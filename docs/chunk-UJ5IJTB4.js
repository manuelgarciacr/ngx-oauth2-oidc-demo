import{$ as At,Aa as Ni,Ab as Ji,B as fe,Ca as Ot,Cb as Ut,D as se,Da as Ui,Db as Lt,E as we,Ea as xr,F as Tr,G as Ae,H as bi,J as Ie,Ja as Li,K as pe,Ka as ji,L as Cr,M as Ri,N as Ei,P as Ti,Q as H,R as Ci,S as N,T as P,U as T,Ua as Mt,V as Ai,W as D,X as Ar,Y as I,Z as m,_ as He,a as h,aa as Ii,b as A,ba as ae,ca as Oi,d as g,da as Oe,e as gi,ea as Y,f as mi,fa as Mi,g as yi,ga as Ir,gb as Dt,h as vi,ha as Di,hb as Pt,i as wr,ia as It,ib as $i,j as Sr,ja as Ge,jb as kr,k as _r,ka as re,kb as xt,l as ve,la as Or,lb as Nr,m as B,mb as Fi,n as he,na as Pi,nb as Ur,o as K,oa as Mr,ob as Wi,p as S,pa as xi,q as qe,qa as Se,r as wi,ra as ki,s as Si,sa as Dr,sb as Lr,t as br,tb as zi,u as E,ub as Ki,v as Rr,va as Xe,vb as W,w as q,wb as kt,x as _i,xb as Nt,y as Er,ya as Pr}from"./chunk-XUQKW7F4.js";var Ye=class{},$t=class{},G=class e{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let i=t.slice(0,n),o=i.toLowerCase(),s=t.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let t=this.headers.get(r.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,t){return this.clone({name:r,value:t,op:"a"})}set(r,t){return this.clone({name:r,value:t,op:"s"})}delete(r,t){return this.clone({name:r,value:t,op:"d"})}maybeSetNormalizedName(r,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,r)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(t=>{this.headers.set(t,r.headers.get(t)),this.normalizedNames.set(t,r.normalizedNames.get(t))})}clone(r){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([r]),t}applyUpdate(r){let t=r.name.toLowerCase();switch(r.op){case"a":case"s":let n=r.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(r.name,t);let i=(r.op==="a"?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":let o=r.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(r,t){let n=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=r.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(r,i)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>r(this.normalizedNames.get(t),this.headers.get(t)))}};var $r=class{encodeKey(r){return Vi(r)}encodeValue(r){return Vi(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Fs(e,r){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,c]=o==-1?[r.decodeKey(i),""]:[r.decodeKey(i.slice(0,o)),r.decodeValue(i.slice(o+1))],a=t.get(s)||[];a.push(c),t.set(s,a)}),t}var Ws=/%(\d[a-f0-9])/gi,zs={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Vi(e){return encodeURIComponent(e).replace(Ws,(r,t)=>zs[t]??r)}function jt(e){return`${e}`}var Z=class e{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new $r,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Fs(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(t=>{let n=r.fromObject[t],i=Array.isArray(n)?n.map(jt):[jt(n)];this.map.set(t,i)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let t=this.map.get(r);return t?t[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,t){return this.clone({param:r,value:t,op:"a"})}appendAll(r){let t=[];return Object.keys(r).forEach(n=>{let i=r[n];Array.isArray(i)?i.forEach(o=>{t.push({param:n,value:o,op:"a"})}):t.push({param:n,value:i,op:"a"})}),this.clone(t)}set(r,t){return this.clone({param:r,value:t,op:"s"})}delete(r,t){return this.clone({param:r,value:t,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let t=this.encoder.encodeKey(r);return this.map.get(r).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(r),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let t=(r.op==="a"?this.map.get(r.param):void 0)||[];t.push(jt(r.value)),this.map.set(r.param,t);break;case"d":if(r.value!==void 0){let n=this.map.get(r.param)||[],i=n.indexOf(jt(r.value));i!==-1&&n.splice(i,1),n.length>0?this.map.set(r.param,n):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var Fr=class{constructor(){this.map=new Map}set(r,t){return this.map.set(r,t),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Ks(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bi(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function qi(e){return typeof Blob<"u"&&e instanceof Blob}function Hi(e){return typeof FormData<"u"&&e instanceof FormData}function Js(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var _e=class e{constructor(r,t,n,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let o;if(Ks(this.method)||i?(this.body=n!==void 0?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new G,this.context??=new Fr,!this.params)this.params=new Z,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),a=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+a+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bi(this.body)||qi(this.body)||Hi(this.body)||Js(this.body)?this.body:this.body instanceof Z?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Hi(this.body)?null:qi(this.body)?this.body.type||null:Bi(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Z?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let t=r.method||this.method,n=r.url||this.url,i=r.responseType||this.responseType,o=r.transferCache??this.transferCache,s=r.body!==void 0?r.body:this.body,c=r.withCredentials??this.withCredentials,a=r.reportProgress??this.reportProgress,u=r.headers||this.headers,l=r.params||this.params,d=r.context??this.context;return r.setHeaders!==void 0&&(u=Object.keys(r.setHeaders).reduce((f,y)=>f.set(y,r.setHeaders[y]),u)),r.setParams&&(l=Object.keys(r.setParams).reduce((f,y)=>f.set(y,r.setParams[y]),l)),new e(t,n,s,{params:l,headers:u,context:d,reportProgress:a,responseType:i,withCredentials:c,transferCache:o})}},ge=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ge||{}),Ze=class{constructor(r,t=200,n="OK"){this.headers=r.headers||new G,this.status=r.status!==void 0?r.status:t,this.statusText=r.statusText||n,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},Ft=class e extends Ze{constructor(r={}){super(r),this.type=ge.ResponseHeader}clone(r={}){return new e({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Qe=class e extends Ze{constructor(r={}){super(r),this.type=ge.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new e({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},ne=class extends Ze{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},eo=200,Vs=204;function jr(e,r){return{body:r,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}var Kr=(()=>{class e{constructor(t){this.handler=t}request(t,n,i={}){let o;if(t instanceof _e)o=t;else{let a;i.headers instanceof G?a=i.headers:a=new G(i.headers);let u;i.params&&(i.params instanceof Z?u=i.params:u=new Z({fromObject:i.params})),o=new _e(t,n,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=S(o).pipe(we(a=>this.handler.handle(a)));if(t instanceof _e||i.observe==="events")return s;let c=s.pipe(fe(a=>a instanceof Qe));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(E(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(E(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(E(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return c.pipe(E(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,n={}){return this.request("DELETE",t,n)}get(t,n={}){return this.request("GET",t,n)}head(t,n={}){return this.request("HEAD",t,n)}jsonp(t,n){return this.request("JSONP",t,{params:new Z().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,n={}){return this.request("OPTIONS",t,n)}patch(t,n,i={}){return this.request("PATCH",t,jr(i,n))}post(t,n,i={}){return this.request("POST",t,jr(i,n))}put(t,n,i={}){return this.request("PUT",t,jr(i,n))}static{this.\u0275fac=function(n){return new(n||e)(I(Ye))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Bs=/^\)\]\}',?\n/,qs="X-Request-URL";function Gi(e){if(e.url)return e.url;let r=qs.toLocaleLowerCase();return e.headers.get(r)}var Hs=(()=>{class e{constructor(){this.fetchImpl=m(Wr,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=m(re)}handle(t){return new wr(n=>{let i=new AbortController;return this.doRequest(t,i.signal,n).then(zr,o=>n.error(new ne({error:o}))),()=>i.abort()})}doRequest(t,n,i){return g(this,null,function*(){let o=this.createRequestInit(t),s;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,h({signal:n},o)));Gs(y),i.next({type:ge.Sent}),s=yield y}catch(y){i.error(new ne({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let c=new G(s.headers),a=s.statusText,u=Gi(s)??t.urlWithParams,l=s.status,d=null;if(t.reportProgress&&i.next(new Ft({headers:c,status:l,statusText:a,url:u})),s.body){let y=s.headers.get("content-length"),v=[],w=s.body.getReader(),p=0,C,R,_=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>g(this,null,function*(){for(;;){let{done:j,value:k}=yield w.read();if(j)break;if(v.push(k),p+=k.length,t.reportProgress){R=t.responseType==="text"?(R??"")+(C??=new TextDecoder).decode(k,{stream:!0}):void 0;let Be=()=>i.next({type:ge.DownloadProgress,total:y?+y:void 0,loaded:p,partialText:R});_?_.run(Be):Be()}}}));let L=this.concatChunks(v,p);try{let j=s.headers.get("Content-Type")??"";d=this.parseBody(t,L,j)}catch(j){i.error(new ne({error:j,headers:new G(s.headers),status:s.status,statusText:s.statusText,url:Gi(s)??t.urlWithParams}));return}}l===0&&(l=d?eo:0),l>=200&&l<300?(i.next(new Qe({body:d,headers:c,status:l,statusText:a,url:u})),i.complete()):i.error(new ne({error:d,headers:c,status:l,statusText:a,url:u}))})}parseBody(t,n,i){switch(t.responseType){case"json":let o=new TextDecoder().decode(n).replace(Bs,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(n);case"blob":return new Blob([n],{type:i});case"arraybuffer":return n.buffer}}createRequestInit(t){let n={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((o,s)=>n[o]=s.join(",")),t.headers.has("Accept")||(n.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let o=t.detectContentTypeHeader();o!==null&&(n["Content-Type"]=o)}return{body:t.serializeBody(),method:t.method,headers:n,credentials:i}}concatChunks(t,n){let i=new Uint8Array(n),o=0;for(let s of t)i.set(s,o),o+=s.length;return i}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Wr=class{};function zr(){}function Gs(e){e.then(zr,zr)}function Xs(e,r){return r(e)}function Ys(e,r,t){return(n,i)=>Y(t,()=>r(n,o=>e(o,i)))}var to=new D(""),Zs=new D(""),Qs=new D("",{providedIn:"root",factory:()=>!0});var Xi=(()=>{class e extends Ye{constructor(t,n){super(),this.backend=t,this.injector=n,this.chain=null,this.pendingTasks=m(It),this.contributeToStability=m(Qs)}handle(t){if(this.chain===null){let n=Array.from(new Set([...this.injector.get(to),...this.injector.get(Zs,[])]));this.chain=n.reduceRight((i,o)=>Ys(i,o,this.injector),Xs)}if(this.contributeToStability){let n=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ie(()=>this.pendingTasks.remove(n)))}else return this.chain(t,n=>this.backend.handle(n))}static{this.\u0275fac=function(n){return new(n||e)(I($t),I(Oe))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();var ea=/^\)\]\}',?\n/;function ta(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}var Yi=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let n=this.xhrFactory;return(n.\u0275loadImpl?K(n.\u0275loadImpl()):S(null)).pipe(H(()=>new wr(o=>{let s=n.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,p)=>s.setRequestHeader(w,p.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let w=t.detectContentTypeHeader();w!==null&&s.setRequestHeader("Content-Type",w)}if(t.responseType){let w=t.responseType.toLowerCase();s.responseType=w!=="json"?w:"text"}let c=t.serializeBody(),a=null,u=()=>{if(a!==null)return a;let w=s.statusText||"OK",p=new G(s.getAllResponseHeaders()),C=ta(s)||t.url;return a=new Ft({headers:p,status:s.status,statusText:w,url:C}),a},l=()=>{let{headers:w,status:p,statusText:C,url:R}=u(),_=null;p!==Vs&&(_=typeof s.response>"u"?s.responseText:s.response),p===0&&(p=_?eo:0);let L=p>=200&&p<300;if(t.responseType==="json"&&typeof _=="string"){let j=_;_=_.replace(ea,"");try{_=_!==""?JSON.parse(_):null}catch(k){_=j,L&&(L=!1,_={error:k,text:_})}}L?(o.next(new Qe({body:_,headers:w,status:p,statusText:C,url:R||void 0})),o.complete()):o.error(new ne({error:_,headers:w,status:p,statusText:C,url:R||void 0}))},d=w=>{let{url:p}=u(),C=new ne({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:p||void 0});o.error(C)},f=!1,y=w=>{f||(o.next(u()),f=!0);let p={type:ge.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(p.total=w.total),t.responseType==="text"&&s.responseText&&(p.partialText=s.responseText),o.next(p)},v=w=>{let p={type:ge.UploadProgress,loaded:w.loaded};w.lengthComputable&&(p.total=w.total),o.next(p)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",y),c!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(c),o.next({type:ge.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",y),c!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(n){return new(n||e)(I(Lt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),ro=new D(""),ra="XSRF-TOKEN",na=new D("",{providedIn:"root",factory:()=>ra}),ia="X-XSRF-TOKEN",oa=new D("",{providedIn:"root",factory:()=>ia}),Wt=class{},sa=(()=>{class e{constructor(t,n,i){this.doc=t,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nt(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(n){return new(n||e)(I(W),I(Se),I(na))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function aa(e,r){let t=e.url.toLowerCase();if(!m(ro)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return r(e);let n=m(Wt).getToken(),i=m(oa);return n!=null&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),r(e)}function no(...e){let r=[Kr,Yi,Xi,{provide:Ye,useExisting:Xi},{provide:$t,useFactory:()=>m(Hs,{optional:!0})??m(Yi)},{provide:to,useValue:aa,multi:!0},{provide:ro,useValue:!0},{provide:Wt,useClass:sa}];for(let t of e)r.push(...t.\u0275providers);return ae(r)}var Br=class extends Ki{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qr=class e extends Br{static makeCurrent(){zi(new e)}onAndCancel(r,t,n){return r.addEventListener(t,n),()=>{r.removeEventListener(t,n)}}dispatchEvent(r,t){r.dispatchEvent(t)}remove(r){r.remove()}createElement(r,t){return t=t||this.getDefaultDocument(),t.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,t){return t==="window"?window:t==="document"?r:t==="body"?r.body:null}getBaseHref(r){let t=da();return t==null?null:ha(t)}resetBaseElement(){tt=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Nt(document.cookie,r)}},tt=null;function da(){return tt=tt||document.querySelector("base"),tt?tt.getAttribute("href"):null}function ha(e){return new URL(e,document.baseURI).pathname}var fa=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Hr=new D(""),so=(()=>{class e{constructor(t,n){this._zone=n,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,n,i){return this._findPluginFor(n).addEventListener(t,n,i)}getZone(){return this._zone}_findPluginFor(t){let n=this._eventNameToPlugin.get(t);if(n)return n;if(n=this._plugins.find(o=>o.supports(t)),!n)throw new P(5101,!1);return this._eventNameToPlugin.set(t,n),n}static{this.\u0275fac=function(n){return new(n||e)(I(Hr),I(re))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),zt=class{constructor(r){this._doc=r}},Jr="ng-app-id",ao=(()=>{class e{constructor(t,n,i,o={}){this.doc=t,this.appId=n,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ut(o),this.resetHostNodes()}addStyles(t){for(let n of t)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(t){for(let n of t)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(n=>n.remove()),t.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let n of this.getAllStyles())this.addStyleToHost(t,n)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let n of this.hostNodes)this.addStyleToHost(n,t)}onStyleRemoved(t){let n=this.styleRef;n.get(t)?.elements?.forEach(i=>i.remove()),n.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Jr}="${this.appId}"]`);if(t?.length){let n=new Map;return t.forEach(i=>{i.textContent!=null&&n.set(i.textContent,i)}),n}return null}changeUsageCount(t,n){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=n,o.usage}return i.set(t,{usage:n,elements:[]}),n}getStyleElement(t,n){let i=this.styleNodesInDOM,o=i?.get(n);if(o?.parentNode===t)return i.delete(n),o.removeAttribute(Jr),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=n,this.platformIsServer&&s.setAttribute(Jr,this.appId),t.appendChild(s),s}}addStyleToHost(t,n){let i=this.getStyleElement(t,n),o=this.styleRef,s=o.get(n)?.elements;s?s.push(i):o.set(n,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||e)(I(W),I(Mr),I(Dr,8),I(Se))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),Vr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xr=/%COMP%/g,co="%COMP%",pa=`_nghost-${co}`,ga=`_ngcontent-${co}`,ma=!0,ya=new D("",{providedIn:"root",factory:()=>ma});function va(e){return ga.replace(Xr,e)}function wa(e){return pa.replace(Xr,e)}function uo(e,r){return r.map(t=>t.replace(Xr,e))}var Kt=(()=>{class e{constructor(t,n,i,o,s,c,a,u=null){this.eventManager=t,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=c,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ut(c),this.defaultRenderer=new rt(t,s,a,this.platformIsServer)}createRenderer(t,n){if(!t||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===He.ShadowDom&&(n=A(h({},n),{encapsulation:He.Emulated}));let i=this.getOrCreateRenderer(t,n);return i instanceof Jt?i.applyToHost(t):i instanceof nt&&i.applyStyles(),i}getOrCreateRenderer(t,n){let i=this.rendererByCompId,o=i.get(n.id);if(!o){let s=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(n.encapsulation){case He.Emulated:o=new Jt(a,u,n,this.appId,l,s,c,d);break;case He.ShadowDom:return new Gr(a,u,t,n,s,c,this.nonce,d);default:o=new nt(a,u,n,l,s,c,d);break}i.set(n.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||e)(I(so),I(ao),I(Mr),I(ya),I(W),I(Se),I(re),I(Dr))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),rt=class{constructor(r,t,n,i){this.eventManager=r,this.doc=t,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,t){return t?this.doc.createElementNS(Vr[t]||t,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,t){(io(r)?r.content:r).appendChild(t)}insertBefore(r,t,n){r&&(io(r)?r.content:r).insertBefore(t,n)}removeChild(r,t){t.remove()}selectRootElement(r,t){let n=typeof r=="string"?this.doc.querySelector(r):r;if(!n)throw new P(-5104,!1);return t||(n.textContent=""),n}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,t,n,i){if(i){t=i+":"+t;let o=Vr[i];o?r.setAttributeNS(o,t,n):r.setAttribute(t,n)}else r.setAttribute(t,n)}removeAttribute(r,t,n){if(n){let i=Vr[n];i?r.removeAttributeNS(i,t):r.removeAttribute(`${n}:${t}`)}else r.removeAttribute(t)}addClass(r,t){r.classList.add(t)}removeClass(r,t){r.classList.remove(t)}setStyle(r,t,n,i){i&(Xe.DashCase|Xe.Important)?r.style.setProperty(t,n,i&Xe.Important?"important":""):r.style[t]=n}removeStyle(r,t,n){n&Xe.DashCase?r.style.removeProperty(t):r.style[t]=""}setProperty(r,t,n){r!=null&&(r[t]=n)}setValue(r,t){r.nodeValue=t}listen(r,t,n){if(typeof r=="string"&&(r=Lr().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${t}`);return this.eventManager.addEventListener(r,t,this.decoratePreventDefault(n))}decoratePreventDefault(r){return t=>{if(t==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(t)):r(t))===!1&&t.preventDefault()}}};function io(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Gr=class extends rt{constructor(r,t,n,i,o,s,c,a){super(r,o,s,a),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=uo(i.id,i.styles);for(let l of u){let d=document.createElement("style");c&&d.setAttribute("nonce",c),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,t){return super.appendChild(this.nodeOrShadowRoot(r),t)}insertBefore(r,t,n){return super.insertBefore(this.nodeOrShadowRoot(r),t,n)}removeChild(r,t){return super.removeChild(null,t)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},nt=class extends rt{constructor(r,t,n,i,o,s,c,a){super(r,o,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=a?uo(a,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Jt=class extends nt{constructor(r,t,n,i,o,s,c,a){let u=i+"-"+n.id;super(r,t,n,o,s,c,a,u),this.contentAttr=va(u),this.hostAttr=wa(u)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,t){let n=super.createElement(r,t);return super.setAttribute(n,this.contentAttr,""),n}},Sa=(()=>{class e extends zt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,n,i){return t.addEventListener(n,i,!1),()=>this.removeEventListener(t,n,i)}removeEventListener(t,n,i){return t.removeEventListener(n,i)}static{this.\u0275fac=function(n){return new(n||e)(I(W))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),oo=["alt","control","meta","shift"],_a={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ba={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ra=(()=>{class e extends zt{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,n,i){let o=e.parseEventName(n),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let n=t.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(n.pop()),s="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),s="code."),oo.forEach(u=>{let l=n.indexOf(u);l>-1&&(n.splice(l,1),s+=u+".")}),s+=o,n.length!=0||o.length===0)return null;let a={};return a.domEventName=i,a.fullKey=s,a}static matchEventFullKeyCode(t,n){let i=_a[t.key]||t.key,o="";return n.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oo.forEach(s=>{if(s!==i){let c=ba[s];c(t)&&(o+=s+".")}}),o+=i,o===n)}static eventCallback(t,n,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>n(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(n){return new(n||e)(I(W))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function yd(e,r){return Wi(h({rootComponent:e},Ea(r)))}function Ea(e){return{appProviders:[...Oa,...e?.providers??[]],platformProviders:Ia}}function Ta(){qr.makeCurrent()}function Ca(){return new Or}function Aa(){return Pi(document),document}var Ia=[{provide:Se,useValue:Ji},{provide:xi,useValue:Ta,multi:!0},{provide:W,useFactory:Aa,deps:[]}];var Oa=[{provide:Oi,useValue:"root"},{provide:Or,useFactory:Ca,deps:[]},{provide:Hr,useClass:Sa,multi:!0,deps:[W,re,Se]},{provide:Hr,useClass:Ra,multi:!0,deps:[W]},Kt,ao,so,{provide:Ot,useExisting:Kt},{provide:Lt,useClass:fa,deps:[]},[]];var lo=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(n){return new(n||e)(I(W))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var b="primary",St=Symbol("RouteTitle"),tn=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t[0]:t}return null}getAll(r){if(this.has(r)){let t=this.params[r];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ne(e){return new tn(e)}function Da(e,r,t){let n=t.path.split("/");if(n.length>e.length||t.pathMatch==="full"&&(r.hasChildren()||n.length<e.length))return null;let i={};for(let o=0;o<n.length;o++){let s=n[o],c=e[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function Pa(e,r){if(e.length!==r.length)return!1;for(let t=0;t<e.length;++t)if(!ie(e[t],r[t]))return!1;return!0}function ie(e,r){let t=e?rn(e):void 0,n=r?rn(r):void 0;if(!t||!n||t.length!=n.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!wo(e[i],r[i]))return!1;return!0}function rn(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function wo(e,r){if(Array.isArray(e)&&Array.isArray(r)){if(e.length!==r.length)return!1;let t=[...e].sort(),n=[...r].sort();return t.every((i,o)=>n[o]===i)}else return e===r}function So(e){return e.length>0?e[e.length-1]:null}function me(e){return wi(e)?e:$i(e)?K(Promise.resolve(e)):S(e)}var xa={exact:bo,subset:Ro},_o={exact:ka,subset:Na,ignored:()=>!0};function ho(e,r,t){return xa[t.paths](e.root,r.root,t.matrixParams)&&_o[t.queryParams](e.queryParams,r.queryParams)&&!(t.fragment==="exact"&&e.fragment!==r.fragment)}function ka(e,r){return ie(e,r)}function bo(e,r,t){if(!Re(e.segments,r.segments)||!qt(e.segments,r.segments,t)||e.numberOfChildren!==r.numberOfChildren)return!1;for(let n in r.children)if(!e.children[n]||!bo(e.children[n],r.children[n],t))return!1;return!0}function Na(e,r){return Object.keys(r).length<=Object.keys(e).length&&Object.keys(r).every(t=>wo(e[t],r[t]))}function Ro(e,r,t){return Eo(e,r,r.segments,t)}function Eo(e,r,t,n){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Re(i,t)||r.hasChildren()||!qt(i,t,n))}else if(e.segments.length===t.length){if(!Re(e.segments,t)||!qt(e.segments,t,n))return!1;for(let i in r.children)if(!e.children[i]||!Ro(e.children[i],r.children[i],n))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Re(e.segments,i)||!qt(e.segments,i,n)||!e.children[b]?!1:Eo(e.children[b],r,o,n)}}function qt(e,r,t){return r.every((n,i)=>_o[t](e[i].parameters,n.parameters))}var ue=class{constructor(r=new O([],{}),t={},n=null){this.root=r,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ne(this.queryParams),this._queryParamMap}toString(){return ja.serialize(this)}},O=class{constructor(r,t){this.segments=r,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ht(this)}},be=class{constructor(r,t){this.path=r,this.parameters=t}get parameterMap(){return this._parameterMap??=Ne(this.parameters),this._parameterMap}toString(){return Co(this)}};function Ua(e,r){return Re(e,r)&&e.every((t,n)=>ie(t.parameters,r[n].parameters))}function Re(e,r){return e.length!==r.length?!1:e.every((t,n)=>t.path===r[n].path)}function La(e,r){let t=[];return Object.entries(e.children).forEach(([n,i])=>{n===b&&(t=t.concat(r(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==b&&(t=t.concat(r(i,n)))}),t}var On=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:()=>new lt,providedIn:"root"})}}return e})(),lt=class{parse(r){let t=new on(r);return new ue(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(r){let t=`/${it(r.root,!0)}`,n=Wa(r.queryParams),i=typeof r.fragment=="string"?`#${$a(r.fragment)}`:"";return`${t}${n}${i}`}},ja=new lt;function Ht(e){return e.segments.map(r=>Co(r)).join("/")}function it(e,r){if(!e.hasChildren())return Ht(e);if(r){let t=e.children[b]?it(e.children[b],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==b&&n.push(`${i}:${it(o,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=La(e,(n,i)=>i===b?[it(e.children[b],!1)]:[`${i}:${it(n,!1)}`]);return Object.keys(e.children).length===1&&e.children[b]!=null?`${Ht(e)}/${t[0]}`:`${Ht(e)}/(${t.join("//")})`}}function To(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vt(e){return To(e).replace(/%3B/gi,";")}function $a(e){return encodeURI(e)}function nn(e){return To(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gt(e){return decodeURIComponent(e)}function fo(e){return Gt(e.replace(/\+/g,"%20"))}function Co(e){return`${nn(e.path)}${Fa(e.parameters)}`}function Fa(e){return Object.entries(e).map(([r,t])=>`;${nn(r)}=${nn(t)}`).join("")}function Wa(e){let r=Object.entries(e).map(([t,n])=>Array.isArray(n)?n.map(i=>`${Vt(t)}=${Vt(i)}`).join("&"):`${Vt(t)}=${Vt(n)}`).filter(t=>t);return r.length?`?${r.join("&")}`:""}var za=/^[^\/()?;#]+/;function Yr(e){let r=e.match(za);return r?r[0]:""}var Ka=/^[^\/()?;=#]+/;function Ja(e){let r=e.match(Ka);return r?r[0]:""}var Va=/^[^=?&#]+/;function Ba(e){let r=e.match(Va);return r?r[0]:""}var qa=/^[^&#]+/;function Ha(e){let r=e.match(qa);return r?r[0]:""}var on=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new O([],{}):new O([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(r.length>0||Object.keys(t).length>0)&&(n[b]=new O(r,t)),n}parseSegment(){let r=Yr(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(r),new be(Gt(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let t=Ja(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let i=Yr(this.remaining);i&&(n=i,this.capture(n))}r[Gt(t)]=Gt(n)}parseQueryParam(r){let t=Ba(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=Ha(this.remaining);s&&(n=s,this.capture(n))}let i=fo(t),o=fo(n);if(r.hasOwnProperty(i)){let s=r[i];Array.isArray(s)||(s=[s],r[i]=s),s.push(o)}else r[i]=o}parseParens(r){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Yr(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):r&&(o=b);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[b]:new O([],s),this.consumeOptional("//")}return t}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new P(4011,!1)}};function Ao(e){return e.segments.length>0?new O([],{[b]:e}):e}function Io(e){let r={};for(let[n,i]of Object.entries(e.children)){let o=Io(i);if(n===b&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))r[s]=c;else(o.segments.length>0||o.hasChildren())&&(r[n]=o)}let t=new O(e.segments,r);return Ga(t)}function Ga(e){if(e.numberOfChildren===1&&e.children[b]){let r=e.children[b];return new O(e.segments.concat(r.segments),r.children)}return e}function dt(e){return e instanceof ue}function Xa(e,r,t=null,n=null){let i=Oo(e);return Mo(i,r,t,n)}function Oo(e){let r;function t(o){let s={};for(let a of o.children){let u=t(a);s[a.outlet]=u}let c=new O(o.url,s);return o===e&&(r=c),c}let n=t(e.root),i=Ao(n);return r??i}function Mo(e,r,t,n){let i=e;for(;i.parent;)i=i.parent;if(r.length===0)return Zr(i,i,i,t,n);let o=Ya(r);if(o.toRoot())return Zr(i,i,new O([],{}),t,n);let s=Za(o,i,e),c=s.processChildren?at(s.segmentGroup,s.index,o.commands):Po(s.segmentGroup,s.index,o.commands);return Zr(i,s.segmentGroup,c,t,n)}function Xt(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ht(e){return typeof e=="object"&&e!=null&&e.outlets}function Zr(e,r,t,n,i){let o={};n&&Object.entries(n).forEach(([a,u])=>{o[a]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`});let s;e===r?s=t:s=Do(e,r,t);let c=Ao(Io(s));return new ue(c,o,i)}function Do(e,r,t){let n={};return Object.entries(e.children).forEach(([i,o])=>{o===r?n[i]=t:n[i]=Do(o,r,t)}),new O(e.segments,n)}var Yt=class{constructor(r,t,n){if(this.isAbsolute=r,this.numberOfDoubleDots=t,this.commands=n,r&&n.length>0&&Xt(n[0]))throw new P(4003,!1);let i=n.find(ht);if(i&&i!==So(n))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Ya(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Yt(!0,0,e);let r=0,t=!1,n=e.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?r++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new Yt(t,r,n)}var Pe=class{constructor(r,t,n){this.segmentGroup=r,this.processChildren=t,this.index=n}};function Za(e,r,t){if(e.isAbsolute)return new Pe(r,!0,0);if(!t)return new Pe(r,!1,NaN);if(t.parent===null)return new Pe(t,!0,0);let n=Xt(e.commands[0])?0:1,i=t.segments.length-1+n;return Qa(t,i,e.numberOfDoubleDots)}function Qa(e,r,t){let n=e,i=r,o=t;for(;o>i;){if(o-=i,n=n.parent,!n)throw new P(4005,!1);i=n.segments.length}return new Pe(n,!1,i-o)}function ec(e){return ht(e[0])?e[0].outlets:{[b]:e}}function Po(e,r,t){if(e??=new O([],{}),e.segments.length===0&&e.hasChildren())return at(e,r,t);let n=tc(e,r,t),i=t.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){let o=new O(e.segments.slice(0,n.pathIndex),{});return o.children[b]=new O(e.segments.slice(n.pathIndex),e.children),at(o,0,i)}else return n.match&&i.length===0?new O(e.segments,{}):n.match&&!e.hasChildren()?sn(e,r,t):n.match?at(e,0,i):sn(e,r,t)}function at(e,r,t){if(t.length===0)return new O(e.segments,{});{let n=ec(t),i={};if(Object.keys(n).some(o=>o!==b)&&e.children[b]&&e.numberOfChildren===1&&e.children[b].segments.length===0){let o=at(e.children[b],r,t);return new O(e.segments,o.children)}return Object.entries(n).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Po(e.children[o],r,s))}),Object.entries(e.children).forEach(([o,s])=>{n[o]===void 0&&(i[o]=s)}),new O(e.segments,i)}}function tc(e,r,t){let n=0,i=r,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=t.length)return o;let s=e.segments[i],c=t[n];if(ht(c))break;let a=`${c}`,u=n<t.length-1?t[n+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!go(a,u,s))return o;n+=2}else{if(!go(a,{},s))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function sn(e,r,t){let n=e.segments.slice(0,r),i=0;for(;i<t.length;){let o=t[i];if(ht(o)){let a=rc(o.outlets);return new O(n,a)}if(i===0&&Xt(t[0])){let a=e.segments[r];n.push(new be(a.path,po(t[0]))),i++;continue}let s=ht(o)?o.outlets[b]:`${o}`,c=i<t.length-1?t[i+1]:null;s&&c&&Xt(c)?(n.push(new be(s,po(c))),i+=2):(n.push(new be(s,{})),i++)}return new O(n,{})}function rc(e){let r={};return Object.entries(e).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(r[t]=sn(new O([],{}),0,n))}),r}function po(e){let r={};return Object.entries(e).forEach(([t,n])=>r[t]=`${n}`),r}function go(e,r,t){return e==t.path&&ie(r,t.parameters)}var ct="imperative",U=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(U||{}),X=class{constructor(r,t){this.id=r,this.url=t}},ft=class extends X{constructor(r,t,n="imperative",i=null){super(r,t),this.type=U.NavigationStart,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ee=class extends X{constructor(r,t,n){super(r,t),this.urlAfterRedirects=n,this.type=U.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},V=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(V||{}),an=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(an||{}),ce=class extends X{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=U.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Te=class extends X{constructor(r,t,n,i){super(r,t),this.reason=n,this.code=i,this.type=U.NavigationSkipped}},pt=class extends X{constructor(r,t,n,i){super(r,t),this.error=n,this.target=i,this.type=U.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zt=class extends X{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=U.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cn=class extends X{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=U.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},un=class extends X{constructor(r,t,n,i,o){super(r,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=U.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ln=class extends X{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=U.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},dn=class extends X{constructor(r,t,n,i){super(r,t),this.urlAfterRedirects=n,this.state=i,this.type=U.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hn=class{constructor(r){this.route=r,this.type=U.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fn=class{constructor(r){this.route=r,this.type=U.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},pn=class{constructor(r){this.snapshot=r,this.type=U.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gn=class{constructor(r){this.snapshot=r,this.type=U.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mn=class{constructor(r){this.snapshot=r,this.type=U.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yn=class{constructor(r){this.snapshot=r,this.type=U.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var gt=class{},Ue=class{constructor(r,t){this.url=r,this.navigationBehaviorOptions=t}};function nc(e,r){return e.providers&&!e._injector&&(e._injector=ji(e.providers,r,`Route: ${e.path}`)),e._injector??r}function Q(e){return e.outlet||b}function ic(e,r){let t=e.filter(n=>Q(n)===r);return t.push(...e.filter(n=>Q(n)!==r)),t}function _t(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let r=e.parent;r;r=r.parent){let t=r.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var vn=class{get injector(){return _t(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new or(this.rootInjector),this.attachRef=null}},or=(()=>{class e{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,n){let i=this.getOrCreateContext(t);i.outlet=n,this.contexts.set(t,i)}onChildOutletDestroyed(t){let n=this.getContext(t);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let n=this.getContext(t);return n||(n=new vn(this.rootInjector),this.contexts.set(t,n)),n}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(n){return new(n||e)(I(Oe))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Qt=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let t=this.pathFromRoot(r);return t.length>1?t[t.length-2]:null}children(r){let t=wn(r,this._root);return t?t.children.map(n=>n.value):[]}firstChild(r){let t=wn(r,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(r){let t=Sn(r,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==r)}pathFromRoot(r){return Sn(r,this._root).map(t=>t.value)}};function wn(e,r){if(e===r.value)return r;for(let t of r.children){let n=wn(e,t);if(n)return n}return null}function Sn(e,r){if(e===r.value)return[r];for(let t of r.children){let n=Sn(e,t);if(n.length)return n.unshift(r),n}return[]}var J=class{constructor(r,t){this.value=r,this.children=t}toString(){return`TreeNode(${this.value})`}};function De(e){let r={};return e&&e.children.forEach(t=>r[t.value.outlet]=t),r}var er=class extends Qt{constructor(r,t){super(r),this.snapshot=t,Mn(this,r)}toString(){return this.snapshot.toString()}};function xo(e){let r=oc(e),t=new B([new be("",{})]),n=new B({}),i=new B({}),o=new B({}),s=new B(""),c=new Le(t,n,o,s,i,b,e,r.root);return c.snapshot=r.root,new er(new J(c,[]),r)}function oc(e){let r={},t={},n={},i="",o=new xe([],r,n,i,t,b,e,null,{});return new rr("",new J(o,[]))}var Le=class{constructor(r,t,n,i,o,s,c,a){this.urlSubject=r,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(E(u=>u[St]))??S(void 0),this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(r=>Ne(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(r=>Ne(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function tr(e,r,t="emptyOnly"){let n,{routeConfig:i}=e;return r!==null&&(t==="always"||i?.path===""||!r.component&&!r.routeConfig?.loadComponent)?n={params:h(h({},r.params),e.params),data:h(h({},r.data),e.data),resolve:h(h(h(h({},e.data),r.data),i?.data),e._resolvedData)}:n={params:h({},e.params),data:h({},e.data),resolve:h(h({},e.data),e._resolvedData??{})},i&&No(i)&&(n.resolve[St]=i.title),n}var xe=class{get title(){return this.data?.[St]}constructor(r,t,n,i,o,s,c,a,u){this.url=r,this.params=t,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ne(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ne(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${t}')`}},rr=class extends Qt{constructor(r,t){super(t),this.url=r,Mn(this,t)}toString(){return ko(this._root)}};function Mn(e,r){r.value._routerState=e,r.children.forEach(t=>Mn(e,t))}function ko(e){let r=e.children.length>0?` { ${e.children.map(ko).join(", ")} } `:"";return`${e.value}${r}`}function Qr(e){if(e.snapshot){let r=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ie(r.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),r.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ie(r.params,t.params)||e.paramsSubject.next(t.params),Pa(r.url,t.url)||e.urlSubject.next(t.url),ie(r.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function _n(e,r){let t=ie(e.params,r.params)&&Ua(e.url,r.url),n=!e.parent!=!r.parent;return t&&!n&&(!e.parent||_n(e.parent,r.parent))}function No(e){return typeof e.title=="string"||e.title===null}var Dn=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=b,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=m(or),this.location=m(Ui),this.changeDetector=m(Ur),this.inputBinder=m(Pn,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:n,previousValue:i}=t.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,n){this.activated=t,this._activatedRoute=n,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,n){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new bn(t,c,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:a,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275dir=Ii({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Mi]})}}return e})(),bn=class e{__ngOutletInjector(r){return new e(this.route,this.childContexts,r)}constructor(r,t,n){this.route=r,this.childContexts=t,this.parent=n}get(r,t){return r===Le?this.route:r===or?this.childContexts:this.parent.get(r,t)}},Pn=new D("");function sc(e,r,t){let n=mt(e,r._root,t?t._root:void 0);return new er(n,r)}function mt(e,r,t){if(t&&e.shouldReuseRoute(r.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=r.value;let i=ac(e,r,t);return new J(n,i)}else{if(e.shouldAttach(r.value)){let o=e.retrieve(r.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=r.value,s.children=r.children.map(c=>mt(e,c)),s}}let n=cc(r.value),i=r.children.map(o=>mt(e,o));return new J(n,i)}}function ac(e,r,t){return r.children.map(n=>{for(let i of t.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return mt(e,n,i);return mt(e,n)})}function cc(e){return new Le(new B(e.url),new B(e.params),new B(e.queryParams),new B(e.fragment),new B(e.data),e.outlet,e.component,e)}var yt=class{constructor(r,t){this.redirectTo=r,this.navigationBehaviorOptions=t}},Uo="ngNavigationCancelingError";function nr(e,r){let{redirectTo:t,navigationBehaviorOptions:n}=dt(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,i=Lo(!1,V.Redirect);return i.url=t,i.navigationBehaviorOptions=n,i}function Lo(e,r){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Uo]=!0,t.cancellationCode=r,t}function uc(e){return jo(e)&&dt(e.url)}function jo(e){return!!e&&e[Uo]}var lc=(e,r,t,n)=>E(i=>(new Rn(r,i.targetRouterState,i.currentRouterState,t,n).activate(e),i)),Rn=class{constructor(r,t,n,i,o){this.routeReuseStrategy=r,this.futureState=t,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(r){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,r),Qr(this.futureState.root),this.activateChildRoutes(t,n,r)}deactivateChildRoutes(r,t,n){let i=De(t);r.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],n),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(i===o)if(i.component){let s=n.getContext(i.outlet);s&&this.deactivateChildRoutes(r,t,s.children)}else this.deactivateChildRoutes(r,t,n);else o&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(r,t){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,t):this.deactivateRouteAndOutlet(r,t)}detachAndStoreRouteSubtree(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=De(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(n&&n.outlet){let s=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:s,route:r,contexts:c})}}deactivateRouteAndOutlet(r,t){let n=t.getContext(r.value.outlet),i=n&&r.value.component?n.children:t,o=De(r);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(r,t,n){let i=De(t);r.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new yn(o.value.snapshot))}),r.children.length&&this.forwardEvent(new gn(r.value.snapshot))}activateRoutes(r,t,n){let i=r.value,o=t?t.value:null;if(Qr(i),i===o)if(i.component){let s=n.getOrCreateContext(i.outlet);this.activateChildRoutes(r,t,s.children)}else this.activateChildRoutes(r,t,n);else if(i.component){let s=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Qr(c.route.value),this.activateChildRoutes(r,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(r,null,s.children)}else this.activateChildRoutes(r,null,n)}},ir=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},ke=class{constructor(r,t){this.component=r,this.route=t}};function dc(e,r,t){let n=e._root,i=r?r._root:null;return ot(n,i,t,[n.value])}function hc(e){let r=e.routeConfig?e.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:e,guards:r}}function $e(e,r){let t=Symbol(),n=r.get(e,t);return n===t?typeof e=="function"&&!Ai(e)?e:r.get(e):n}function ot(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=De(r);return e.children.forEach(s=>{fc(s,o[s.value.outlet],t,n.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ut(c,t.getContext(s),i)),i}function fc(e,r,t,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=r?r.value:null,c=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let a=pc(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new ir(n)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ot(e,r,c?c.children:null,n,i):ot(e,r,t,n,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new ke(c.outlet.component,s))}else s&&ut(r,c,i),i.canActivateChecks.push(new ir(n)),o.component?ot(e,null,c?c.children:null,n,i):ot(e,null,t,n,i);return i}function pc(e,r,t){if(typeof t=="function")return t(e,r);switch(t){case"pathParamsChange":return!Re(e.url,r.url);case"pathParamsOrQueryParamsChange":return!Re(e.url,r.url)||!ie(e.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_n(e,r)||!ie(e.queryParams,r.queryParams);case"paramsChange":default:return!_n(e,r)}}function ut(e,r,t){let n=De(e),i=e.value;Object.entries(n).forEach(([o,s])=>{i.component?r?ut(s,r.children.getContext(o),t):ut(s,null,t):ut(s,r,t)}),i.component?r&&r.outlet&&r.outlet.isActivated?t.canDeactivateChecks.push(new ke(r.outlet.component,i)):t.canDeactivateChecks.push(new ke(null,i)):t.canDeactivateChecks.push(new ke(null,i))}function bt(e){return typeof e=="function"}function gc(e){return typeof e=="boolean"}function mc(e){return e&&bt(e.canLoad)}function yc(e){return e&&bt(e.canActivate)}function vc(e){return e&&bt(e.canActivateChild)}function wc(e){return e&&bt(e.canDeactivate)}function Sc(e){return e&&bt(e.canMatch)}function $o(e){return e instanceof Si||e?.name==="EmptyError"}var Bt=Symbol("INITIAL_VALUE");function je(){return H(e=>Rr(e.map(r=>r.pipe(Ae(1),Ti(Bt)))).pipe(E(r=>{for(let t of r)if(t!==!0){if(t===Bt)return Bt;if(t===!1||_c(t))return t}return!0}),fe(r=>r!==Bt),Ae(1)))}function _c(e){return dt(e)||e instanceof yt}function bc(e,r){return q(t=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?S(A(h({},t),{guardsResult:!0})):Rc(s,n,i,e).pipe(q(c=>c&&gc(c)?Ec(n,o,e,r):S(c)),E(c=>A(h({},t),{guardsResult:c})))})}function Rc(e,r,t,n){return K(e).pipe(q(i=>Oc(i.component,i.route,t,r,n)),pe(i=>i!==!0,!0))}function Ec(e,r,t,n){return K(r).pipe(we(i=>_i(Cc(i.route.parent,n),Tc(i.route,n),Ic(e,i.path,t),Ac(e,i.route,t))),pe(i=>i!==!0,!0))}function Tc(e,r){return e!==null&&r&&r(new mn(e)),S(!0)}function Cc(e,r){return e!==null&&r&&r(new pn(e)),S(!0)}function Ac(e,r,t){let n=r.routeConfig?r.routeConfig.canActivate:null;if(!n||n.length===0)return S(!0);let i=n.map(o=>Er(()=>{let s=_t(r)??t,c=$e(o,s),a=yc(c)?c.canActivate(r,e):Y(s,()=>c(r,e));return me(a).pipe(pe())}));return S(i).pipe(je())}function Ic(e,r,t){let n=r[r.length-1],o=r.slice(0,r.length-1).reverse().map(s=>hc(s)).filter(s=>s!==null).map(s=>Er(()=>{let c=s.guards.map(a=>{let u=_t(s.node)??t,l=$e(a,u),d=vc(l)?l.canActivateChild(n,e):Y(u,()=>l(n,e));return me(d).pipe(pe())});return S(c).pipe(je())}));return S(o).pipe(je())}function Oc(e,r,t,n,i){let o=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!o||o.length===0)return S(!0);let s=o.map(c=>{let a=_t(r)??i,u=$e(c,a),l=wc(u)?u.canDeactivate(e,r,t,n):Y(a,()=>u(e,r,t,n));return me(l).pipe(pe())});return S(s).pipe(je())}function Mc(e,r,t,n){let i=r.canLoad;if(i===void 0||i.length===0)return S(!0);let o=i.map(s=>{let c=$e(s,e),a=mc(c)?c.canLoad(r,t):Y(e,()=>c(r,t));return me(a)});return S(o).pipe(je(),Fo(n))}function Fo(e){return vi(N(r=>{if(typeof r!="boolean")throw nr(e,r)}),E(r=>r===!0))}function Dc(e,r,t,n){let i=r.canMatch;if(!i||i.length===0)return S(!0);let o=i.map(s=>{let c=$e(s,e),a=Sc(c)?c.canMatch(r,t):Y(e,()=>c(r,t));return me(a)});return S(o).pipe(je(),Fo(n))}var vt=class{constructor(r){this.segmentGroup=r||null}},wt=class extends Error{constructor(r){super(),this.urlTree=r}};function Me(e){return qe(new vt(e))}function Pc(e){return qe(new P(4e3,!1))}function xc(e){return qe(Lo(!1,V.GuardRejected))}var En=class{constructor(r,t){this.urlSerializer=r,this.urlTree=t}lineralizeSegments(r,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return S(n);if(i.numberOfChildren>1||!i.children[b])return Pc(`${r.redirectTo}`);i=i.children[b]}}applyRedirectCommands(r,t,n,i,o){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:l,url:d,outlet:f,params:y,data:v,title:w}=i,p=Y(o,()=>c({params:y,data:v,queryParams:a,fragment:u,routeConfig:l,url:d,outlet:f,title:w}));if(p instanceof ue)throw new wt(p);t=p}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),r,n);if(t[0]==="/")throw new wt(s);return s}applyRedirectCreateUrlTree(r,t,n,i){let o=this.createSegmentGroup(r,t.root,n,i);return new ue(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(r,t){let n={};return Object.entries(r).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);n[i]=t[c]}else n[i]=o}),n}createSegmentGroup(r,t,n,i){let o=this.createSegments(r,t.segments,n,i),s={};return Object.entries(t.children).forEach(([c,a])=>{s[c]=this.createSegmentGroup(r,a,n,i)}),new O(o,s)}createSegments(r,t,n,i){return t.map(o=>o.path[0]===":"?this.findPosParam(r,o,i):this.findOrReturn(o,n))}findPosParam(r,t,n){let i=n[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(r,t){let n=0;for(let i of t){if(i.path===r.path)return t.splice(n),i;n++}return r}},Tn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kc(e,r,t,n,i){let o=Wo(e,r,t);return o.matched?(n=nc(r,n),Dc(n,r,t,i).pipe(E(s=>s===!0?o:h({},Tn)))):S(o)}function Wo(e,r,t){if(r.path==="**")return Nc(t);if(r.path==="")return r.pathMatch==="full"&&(e.hasChildren()||t.length>0)?h({},Tn):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(r.matcher||Da)(t,e,r);if(!i)return h({},Tn);let o={};Object.entries(i.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let s=i.consumed.length>0?h(h({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Nc(e){return{matched:!0,parameters:e.length>0?So(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function mo(e,r,t,n){return t.length>0&&jc(e,t,n)?{segmentGroup:new O(r,Lc(n,new O(t,e.children))),slicedSegments:[]}:t.length===0&&$c(e,t,n)?{segmentGroup:new O(e.segments,Uc(e,t,n,e.children)),slicedSegments:t}:{segmentGroup:new O(e.segments,e.children),slicedSegments:t}}function Uc(e,r,t,n){let i={};for(let o of t)if(sr(e,r,o)&&!n[Q(o)]){let s=new O([],{});i[Q(o)]=s}return h(h({},n),i)}function Lc(e,r){let t={};t[b]=r;for(let n of e)if(n.path===""&&Q(n)!==b){let i=new O([],{});t[Q(n)]=i}return t}function jc(e,r,t){return t.some(n=>sr(e,r,n)&&Q(n)!==b)}function $c(e,r,t){return t.some(n=>sr(e,r,n))}function sr(e,r,t){return(e.hasChildren()||r.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Fc(e,r,t){return r.length===0&&!e.children[t]}var Cn=class{};function Wc(e,r,t,n,i,o,s="emptyOnly"){return new An(e,r,t,n,i,s,o).recognize()}var zc=31,An=class{constructor(r,t,n,i,o,s,c){this.injector=r,this.configLoader=t,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new En(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new P(4002,`'${r.segmentGroup}'`)}recognize(){let r=mo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(E(({children:t,rootSnapshot:n})=>{let i=new J(n,t),o=new rr("",i),s=Xa(n,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(r){let t=new xe([],Object.freeze({}),Object.freeze(h({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),b,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,b,t).pipe(E(n=>({children:n,rootSnapshot:t})),se(n=>{if(n instanceof wt)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof vt?this.noMatchError(n):n}))}processSegmentGroup(r,t,n,i,o){return n.segments.length===0&&n.hasChildren()?this.processChildren(r,t,n,o):this.processSegment(r,t,n,n.segments,i,!0,o).pipe(E(s=>s instanceof J?[s]:[]))}processChildren(r,t,n,i){let o=[];for(let s of Object.keys(n.children))s==="primary"?o.unshift(s):o.push(s);return K(o).pipe(we(s=>{let c=n.children[s],a=ic(t,s);return this.processSegmentGroup(r,a,c,s,i)}),Ei((s,c)=>(s.push(...c),s)),Tr(null),Ri(),q(s=>{if(s===null)return Me(n);let c=zo(s);return Kc(c),S(c)}))}processSegment(r,t,n,i,o,s,c){return K(t).pipe(we(a=>this.processSegmentAgainstRoute(a._injector??r,t,a,n,i,o,s,c).pipe(se(u=>{if(u instanceof vt)return S(null);throw u}))),pe(a=>!!a),se(a=>{if($o(a))return Fc(n,i,o)?S(new Cn):Me(n);throw a}))}processSegmentAgainstRoute(r,t,n,i,o,s,c,a){return Q(n)!==s&&(s===b||!sr(i,o,n))?Me(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(r,i,n,o,s,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(r,i,t,n,o,s,a):Me(i)}expandSegmentAgainstRouteUsingRedirect(r,t,n,i,o,s,c){let{matched:a,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=Wo(t,i,o);if(!a)return Me(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>zc&&(this.allowRedirects=!1));let y=new xe(o,u,Object.freeze(h({},this.urlTree.queryParams)),this.urlTree.fragment,yo(i),Q(i),i.component??i._loadedComponent??null,i,vo(i)),v=tr(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let w=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,y,r);return this.applyRedirects.lineralizeSegments(i,w).pipe(q(p=>this.processSegment(r,n,t,p.concat(f),s,!1,c)))}matchSegmentAgainstRoute(r,t,n,i,o,s){let c=kc(t,n,i,r,this.urlSerializer);return n.path==="**"&&(t.children={}),c.pipe(H(a=>a.matched?(r=n._injector??r,this.getChildConfig(r,n,i).pipe(H(({routes:u})=>{let l=n._loadedInjector??r,{parameters:d,consumedSegments:f,remainingSegments:y}=a,v=new xe(f,d,Object.freeze(h({},this.urlTree.queryParams)),this.urlTree.fragment,yo(n),Q(n),n.component??n._loadedComponent??null,n,vo(n)),w=tr(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(w.params),v.data=Object.freeze(w.data);let{segmentGroup:p,slicedSegments:C}=mo(t,f,y,u);if(C.length===0&&p.hasChildren())return this.processChildren(l,u,p,v).pipe(E(_=>new J(v,_)));if(u.length===0&&C.length===0)return S(new J(v,[]));let R=Q(n)===o;return this.processSegment(l,u,p,C,R?b:o,!0,v).pipe(E(_=>new J(v,_ instanceof J?[_]:[])))}))):Me(t)))}getChildConfig(r,t,n){return t.children?S({routes:t.children,injector:r}):t.loadChildren?t._loadedRoutes!==void 0?S({routes:t._loadedRoutes,injector:t._loadedInjector}):Mc(r,t,n,this.urlSerializer).pipe(q(i=>i?this.configLoader.loadChildren(r,t).pipe(N(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):xc(t))):S({routes:[],injector:r})}};function Kc(e){e.sort((r,t)=>r.value.outlet===b?-1:t.value.outlet===b?1:r.value.outlet.localeCompare(t.value.outlet))}function Jc(e){let r=e.value.routeConfig;return r&&r.path===""}function zo(e){let r=[],t=new Set;for(let n of e){if(!Jc(n)){r.push(n);continue}let i=r.find(o=>n.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...n.children),t.add(i)):r.push(n)}for(let n of t){let i=zo(n.children);r.push(new J(n.value,i))}return r.filter(n=>!t.has(n))}function yo(e){return e.data||{}}function vo(e){return e.resolve||{}}function Vc(e,r,t,n,i,o){return q(s=>Wc(e,r,t,n,s.extractedUrl,i,o).pipe(E(({state:c,tree:a})=>A(h({},s),{targetSnapshot:c,urlAfterRedirects:a}))))}function Bc(e,r){return q(t=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=t;if(!i.length)return S(t);let o=new Set(i.map(a=>a.route)),s=new Set;for(let a of o)if(!s.has(a))for(let u of Ko(a))s.add(u);let c=0;return K(s).pipe(we(a=>o.has(a)?qc(a,n,e,r):(a.data=tr(a,a.parent,e).resolve,S(void 0))),N(()=>c++),Cr(1),q(a=>c===s.size?S(t):he))})}function Ko(e){let r=e.children.map(t=>Ko(t)).flat();return[e,...r]}function qc(e,r,t,n){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!No(i)&&(o[St]=i.title),Hc(o,e,r,n).pipe(E(s=>(e._resolvedData=s,e.data=tr(e,e.parent,t).resolve,null)))}function Hc(e,r,t,n){let i=rn(e);if(i.length===0)return S({});let o={};return K(i).pipe(q(s=>Gc(e[s],r,t,n).pipe(pe(),N(c=>{if(c instanceof yt)throw nr(new lt,c);o[s]=c}))),Cr(1),bi(o),se(s=>$o(s)?he:qe(s)))}function Gc(e,r,t,n){let i=_t(r)??n,o=$e(e,i),s=o.resolve?o.resolve(r,t):Y(i,()=>o(r,t));return me(s)}function en(e){return H(r=>{let t=e(r);return t?K(t).pipe(E(()=>r)):S(r)})}var Jo=(()=>{class e{buildTitle(t){let n,i=t.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(o=>o.outlet===b);return n}getResolvedTitleForRoute(t){return t.data[St]}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:()=>m(Xc),providedIn:"root"})}}return e})(),Xc=(()=>{class e extends Jo{constructor(t){super(),this.title=t}updateTitle(t){let n=this.buildTitle(t);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||e)(I(lo))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),xn=new D("",{providedIn:"root",factory:()=>({})}),Yc=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=At({type:e,selectors:[["ng-component"]],standalone:!0,features:[Dt],decls:1,vars:0,template:function(n,i){n&1&&Mt(0,"router-outlet")},dependencies:[Dn],encapsulation:2})}}return e})();function kn(e){let r=e.children&&e.children.map(kn),t=r?A(h({},e),{children:r}):h({},e);return!t.component&&!t.loadComponent&&(r||t.loadChildren)&&t.outlet&&t.outlet!==b&&(t.component=Yc),t}var Nn=new D(""),Zc=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(Nr)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return S(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let n=me(t.loadComponent()).pipe(E(Vo),N(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ie(()=>{this.componentLoaders.delete(t)})),i=new _r(n,()=>new ve).pipe(Sr());return this.componentLoaders.set(t,i),i}loadChildren(t,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return S({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let o=Qc(n,this.compiler,t,this.onLoadEndListener).pipe(Ie(()=>{this.childrenLoaders.delete(n)})),s=new _r(o,()=>new ve).pipe(Sr());return this.childrenLoaders.set(n,s),s}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Qc(e,r,t,n){return me(e.loadChildren()).pipe(E(Vo),q(i=>i instanceof Li||Array.isArray(i)?S(i):K(r.compileModuleAsync(i))),E(i=>{n&&n(e);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(t).injector,s=o.get(Nn,[],{optional:!0,self:!0}).flat()),{routes:s.map(kn),injector:o}}))}function eu(e){return e&&typeof e=="object"&&"default"in e}function Vo(e){return eu(e)?e.default:e}var Un=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:()=>m(tu),providedIn:"root"})}}return e})(),tu=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,n){return t}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ru=new D("");var nu=new D(""),iu=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve,this.transitionAbortSubject=new ve,this.configLoader=m(Zc),this.environmentInjector=m(Oe),this.urlSerializer=m(On),this.rootContexts=m(or),this.location=m(kt),this.inputBindingEnabled=m(Pn,{optional:!0})!==null,this.titleStrategy=m(Jo),this.options=m(xn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(Un),this.createViewTransition=m(ru,{optional:!0}),this.navigationErrorHandler=m(nu,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let t=i=>this.events.next(new hn(i)),n=i=>this.events.next(new fn(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let n=++this.navigationId;this.transitions?.next(A(h(h({},this.transitions.value),t),{id:n}))}setupNavigations(t,n,i){return this.transitions=new B({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ct,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fe(o=>o.id!==0),E(o=>A(h({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),H(o=>{let s=!1,c=!1;return S(o).pipe(H(a=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",V.SupersededByNewNavigation),he;this.currentTransition=o,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?A(h({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&l!=="reload"){let d="";return this.events.next(new Te(a.id,this.urlSerializer.serialize(a.rawUrl),d,an.IgnoredSameUrlNavigation)),a.resolve(!1),he}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return S(a).pipe(H(d=>{let f=this.transitions?.getValue();return this.events.next(new ft(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?he:Promise.resolve(d)}),Vc(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),N(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=A(h({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Zt(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:d,extractedUrl:f,source:y,restoredState:v,extras:w}=a,p=new ft(d,this.urlSerializer.serialize(f),y,v);this.events.next(p);let C=xo(this.rootComponentType).snapshot;return this.currentTransition=o=A(h({},a),{targetSnapshot:C,urlAfterRedirects:f,extras:A(h({},w),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,S(o)}else{let d="";return this.events.next(new Te(a.id,this.urlSerializer.serialize(a.extractedUrl),d,an.IgnoredByUrlHandlingStrategy)),a.resolve(!1),he}}),N(a=>{let u=new cn(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),E(a=>(this.currentTransition=o=A(h({},a),{guards:dc(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),o)),bc(this.environmentInjector,a=>this.events.next(a)),N(a=>{if(o.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw nr(this.urlSerializer,a.guardsResult);let u=new un(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),fe(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",V.GuardRejected),!1)),en(a=>{if(a.guards.canActivateChecks.length)return S(a).pipe(N(u=>{let l=new ln(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),H(u=>{let l=!1;return S(u).pipe(Bc(this.paramsInheritanceStrategy,this.environmentInjector),N({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",V.NoDataFromResolver)}}))}),N(u=>{let l=new dn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),en(a=>{let u=l=>{let d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(N(f=>{l.component=f}),E(()=>{})));for(let f of l.children)d.push(...u(f));return d};return Rr(u(a.targetSnapshot.root)).pipe(Tr(null),Ae(1))}),en(()=>this.afterPreactivation()),H(()=>{let{currentSnapshot:a,targetSnapshot:u}=o,l=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return l?K(l).pipe(E(()=>o)):S(o)}),E(a=>{let u=sc(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=o=A(h({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),N(()=>{this.events.next(new gt)}),lc(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ae(1),N({next:a=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ee(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{s=!0}}),Ci(this.transitionAbortSubject.pipe(N(a=>{throw a}))),Ie(()=>{!s&&!c&&this.cancelNavigationTransition(o,"",V.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),se(a=>{if(c=!0,jo(a))this.events.next(new ce(o.id,this.urlSerializer.serialize(o.extractedUrl),a.message,a.cancellationCode)),uc(a)?this.events.next(new Ue(a.url,a.navigationBehaviorOptions)):o.resolve(!1);else{let u=new pt(o.id,this.urlSerializer.serialize(o.extractedUrl),a,o.targetSnapshot??void 0);try{let l=Y(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(l instanceof yt){let{message:d,cancellationCode:f}=nr(this.urlSerializer,l);this.events.next(new ce(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Ue(l.redirectTo,l.navigationBehaviorOptions))}else{this.events.next(u);let d=t.errorHandler(a);o.resolve(!!d)}}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return he}))}))}cancelNavigationTransition(t,n,i){let o=new ce(t.id,this.urlSerializer.serialize(t.extractedUrl),n,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function ou(e){return e!==ct}var su=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:()=>m(au),providedIn:"root"})}}return e})(),In=class{shouldDetach(r){return!1}store(r,t){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,t){return r.routeConfig===t.routeConfig}},au=(()=>{class e extends In{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Bo=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:()=>m(cu),providedIn:"root"})}}return e})(),cu=(()=>{class e extends Bo{constructor(){super(...arguments),this.location=m(kt),this.urlSerializer=m(On),this.options=m(xn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(Un),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ue,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=xo(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(n=>{n.type==="popstate"&&t(n.url,n.state)})}handleRouterEvent(t,n){if(t instanceof ft)this.stateMemento=this.createStateMemento();else if(t instanceof Te)this.rawUrlTree=n.initialUrl;else if(t instanceof Zt){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??i,n)}}else t instanceof gt?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):t instanceof ce&&(t.code===V.GuardRejected||t.code===V.NoDataFromResolver)?this.restoreHistory(n):t instanceof pt?this.restoreHistory(n,!0):t instanceof Ee&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,n){let i=t instanceof ue?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let o=this.browserPageId,s=h(h({},n.extras.state),this.generateNgRouterState(n.id,o));this.location.replaceState(i,"",s)}else{let o=h(h({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,n){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:n}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Ir(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),st=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(st||{});function uu(e,r){e.events.pipe(fe(t=>t instanceof Ee||t instanceof ce||t instanceof pt||t instanceof Te),E(t=>t instanceof Ee||t instanceof Te?st.COMPLETE:(t instanceof ce?t.code===V.Redirect||t.code===V.SupersededByNewNavigation:!1)?st.REDIRECTING:st.FAILED),fe(t=>t!==st.REDIRECTING),Ae(1)).subscribe(()=>{r()})}function lu(e){throw e}var du={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ar=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(Pt),this.stateManager=m(Bo),this.options=m(xn,{optional:!0})||{},this.pendingTasks=m(It),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(iu),this.urlSerializer=m(On),this.location=m(kt),this.urlHandlingStrategy=m(Un),this._events=new ve,this.errorHandler=this.options.errorHandler||lu,this.navigated=!1,this.routeReuseStrategy=m(su),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(Nn,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(Pn,{optional:!0}),this.eventsSubscription=new yi,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(n,o),n instanceof ce&&n.code!==V.Redirect&&n.code!==V.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof Ee)this.navigated=!0;else if(n instanceof Ue){let s=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),a=h({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ou(i.source)},s);this.scheduleNavigation(c,ct,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}pu(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ct,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",n)},0)})}navigateToSyncWithBrowser(t,n,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let a=h({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,n,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(kn),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,n={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:c,preserveFragment:a}=n,u=a?this.currentUrlTree.fragment:s,l=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":l=h(h({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=Oo(f)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Mo(d,t,l,u??null)}navigateByUrl(t,n={skipLocationChange:!1}){let i=dt(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ct,null,n)}navigate(t,n={skipLocationChange:!1}){return fu(t),this.navigateByUrl(this.createUrlTree(t,n),n)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,n){let i;if(n===!0?i=h({},du):n===!1?i=h({},hu):i=n,dt(t))return ho(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ho(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((n,[i,o])=>(o!=null&&(n[i]=o),n),{})}scheduleNavigation(t,n,i,o,s){if(this.disposed)return Promise.resolve(!1);let c,a,u;s?(c=s.resolve,a=s.reject,u=s.promise):u=new Promise((d,f)=>{c=d,a=f});let l=this.pendingTasks.add();return uu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function fu(e){for(let r=0;r<e.length;r++)if(e[r]==null)throw new P(4008,!1)}function pu(e){return!(e instanceof gt)&&!(e instanceof Ue)}var gu=new D("");function qo(e,...r){return ae([{provide:Nn,multi:!0,useValue:e},[],{provide:Le,useFactory:mu,deps:[ar]},{provide:kr,multi:!0,useFactory:yu},r.map(t=>t.\u0275providers)])}function mu(e){return e.routerState.root}function yu(){let e=m(Di);return r=>{let t=e.get(xt);if(r!==t.components[0])return;let n=e.get(ar),i=e.get(vu);e.get(wu)===1&&n.initialNavigation(),e.get(Su,null,Ar.Optional)?.setUpPreloading(),e.get(gu,null,Ar.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vu=new D("",{factory:()=>new ve}),wu=new D("",{providedIn:"root",factory:()=>1});var Su=new D("");var ah=(()=>{class e{constructor(){this.title="demo"}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=At({type:e,selectors:[["app-root"]],standalone:!0,features:[Dt],decls:1,vars:0,template:function(n,i){n&1&&Mt(0,"router-outlet")},dependencies:[Dn],encapsulation:2})}}return e})();var Fe=crypto,cr=e=>e instanceof CryptoKey;var We=new TextEncoder,ye=new TextDecoder,lh=2**32;function Ho(...e){let r=e.reduce((i,{length:o})=>i+o,0),t=new Uint8Array(r),n=0;for(let i of e)t.set(i,n),n+=i.length;return t}var _u=e=>{let r=atob(e),t=new Uint8Array(r.length);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return t},oe=e=>{let r=e;r instanceof Uint8Array&&(r=ye.decode(r)),r=r.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return _u(r)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};var $=(()=>{class e extends Error{constructor(t,n){super(t,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}return e.code="ERR_JOSE_GENERIC",e})(),ee=(()=>{class e extends ${constructor(t,n,i="unspecified",o="unspecified"){super(t,{cause:{claim:i,reason:o,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=i,this.reason=o,this.payload=n}}return e.code="ERR_JWT_CLAIM_VALIDATION_FAILED",e})(),Ln=(()=>{class e extends ${constructor(t,n,i="unspecified",o="unspecified"){super(t,{cause:{claim:i,reason:o,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=i,this.reason=o,this.payload=n}}return e.code="ERR_JWT_EXPIRED",e})(),Go=(()=>{class e extends ${constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}return e.code="ERR_JOSE_ALG_NOT_ALLOWED",e})(),z=(()=>{class e extends ${constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}return e.code="ERR_JOSE_NOT_SUPPORTED",e})();var x=(()=>{class e extends ${constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}return e.code="ERR_JWS_INVALID",e})(),ur=(()=>{class e extends ${constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}return e.code="ERR_JWT_INVALID",e})();var jn=(()=>{class e extends ${constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}return e.code="ERR_JWKS_INVALID",e})(),lr=(()=>{class e extends ${constructor(t="no applicable key found in the JSON Web Key Set",n){super(t,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}return e.code="ERR_JWKS_NO_MATCHING_KEY",e})(),Rt=class extends ${constructor(r="multiple matching keys found in the JSON Web Key Set",t){super(r,t),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}};Rt.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";var Xo=(()=>{class e extends ${constructor(t="request timed out",n){super(t,n),this.code="ERR_JWKS_TIMEOUT"}}return e.code="ERR_JWKS_TIMEOUT",e})(),Yo=(()=>{class e extends ${constructor(t="signature verification failed",n){super(t,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}return e.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",e})();function le(e,r="algorithm.name"){return new TypeError(`CryptoKey does not support this operation, its ${r} must be ${e}`)}function dr(e,r){return e.name===r}function $n(e){return parseInt(e.name.slice(4),10)}function Ru(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function Eu(e,r){if(r.length&&!r.some(t=>e.usages.includes(t))){let t="CryptoKey does not support this operation, its usages must include ";if(r.length>2){let n=r.pop();t+=`one of ${r.join(", ")}, or ${n}.`}else r.length===2?t+=`one of ${r[0]} or ${r[1]}.`:t+=`${r[0]}.`;throw new TypeError(t)}}function Zo(e,r,...t){switch(r){case"HS256":case"HS384":case"HS512":{if(!dr(e.algorithm,"HMAC"))throw le("HMAC");let n=parseInt(r.slice(2),10);if($n(e.algorithm.hash)!==n)throw le(`SHA-${n}`,"algorithm.hash");break}case"RS256":case"RS384":case"RS512":{if(!dr(e.algorithm,"RSASSA-PKCS1-v1_5"))throw le("RSASSA-PKCS1-v1_5");let n=parseInt(r.slice(2),10);if($n(e.algorithm.hash)!==n)throw le(`SHA-${n}`,"algorithm.hash");break}case"PS256":case"PS384":case"PS512":{if(!dr(e.algorithm,"RSA-PSS"))throw le("RSA-PSS");let n=parseInt(r.slice(2),10);if($n(e.algorithm.hash)!==n)throw le(`SHA-${n}`,"algorithm.hash");break}case"EdDSA":{if(e.algorithm.name!=="Ed25519"&&e.algorithm.name!=="Ed448")throw le("Ed25519 or Ed448");break}case"ES256":case"ES384":case"ES512":{if(!dr(e.algorithm,"ECDSA"))throw le("ECDSA");let n=Ru(r);if(e.algorithm.namedCurve!==n)throw le(n,"algorithm.namedCurve");break}default:throw new TypeError("CryptoKey does not support this operation")}Eu(e,t)}function Qo(e,r,...t){if(t=t.filter(Boolean),t.length>2){let n=t.pop();e+=`one of type ${t.join(", ")}, or ${n}.`}else t.length===2?e+=`one of type ${t[0]} or ${t[1]}.`:e+=`of type ${t[0]}.`;return r==null?e+=` Received ${r}`:typeof r=="function"&&r.name?e+=` Received function ${r.name}`:typeof r=="object"&&r!=null&&r.constructor?.name&&(e+=` Received an instance of ${r.constructor.name}`),e}var Fn=(e,...r)=>Qo("Key must be ",e,...r);function Wn(e,r,...t){return Qo(`Key for the ${e} algorithm must be `,r,...t)}var zn=e=>cr(e)?!0:e?.[Symbol.toStringTag]==="KeyObject",ze=["CryptoKey"];var Tu=(...e)=>{let r=e.filter(Boolean);if(r.length===0||r.length===1)return!0;let t;for(let n of r){let i=Object.keys(n);if(!t||t.size===0){t=new Set(i);continue}for(let o of i){if(t.has(o))return!1;t.add(o)}}return!0},es=Tu;function Cu(e){return typeof e=="object"&&e!==null}function F(e){if(!Cu(e)||Object.prototype.toString.call(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let r=e;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}var ts=(e,r)=>{if(e.startsWith("RS")||e.startsWith("PS")){let{modulusLength:t}=r.algorithm;if(typeof t!="number"||t<2048)throw new TypeError(`${e} requires key modulusLength to be 2048 bits or larger`)}};function de(e){return F(e)&&typeof e.kty=="string"}function rs(e){return e.kty!=="oct"&&typeof e.d=="string"}function ns(e){return e.kty!=="oct"&&typeof e.d>"u"}function is(e){return de(e)&&e.kty==="oct"&&typeof e.k=="string"}function Iu(e){let r,t;switch(e.kty){case"RSA":{switch(e.alg){case"PS256":case"PS384":case"PS512":r={name:"RSA-PSS",hash:`SHA-${e.alg.slice(-3)}`},t=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":r={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.alg.slice(-3)}`},t=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":r={name:"RSA-OAEP",hash:`SHA-${parseInt(e.alg.slice(-3),10)||1}`},t=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(e.alg){case"ES256":r={name:"ECDSA",namedCurve:"P-256"},t=e.d?["sign"]:["verify"];break;case"ES384":r={name:"ECDSA",namedCurve:"P-384"},t=e.d?["sign"]:["verify"];break;case"ES512":r={name:"ECDSA",namedCurve:"P-521"},t=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":r={name:"ECDH",namedCurve:e.crv},t=e.d?["deriveBits"]:[];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(e.alg){case"EdDSA":r={name:e.crv},t=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":r={name:e.crv},t=e.d?["deriveBits"]:[];break;default:throw new z('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new z('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:r,keyUsages:t}}var Ou=e=>g(void 0,null,function*(){if(!e.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');let{algorithm:r,keyUsages:t}=Iu(e),n=[r,e.ext??!1,e.key_ops??t],i=h({},e);return delete i.alg,delete i.use,Fe.subtle.importKey("jwk",i,...n)}),hr=Ou;var os=e=>oe(e),Ke,Je,ss=e=>e?.[Symbol.toStringTag]==="KeyObject",fr=(e,r,t,n,i=!1)=>g(void 0,null,function*(){let o=e.get(r);if(o?.[n])return o[n];let s=yield hr(A(h({},t),{alg:n}));return i&&Object.freeze(r),o?o[n]=s:e.set(r,{[n]:s}),s}),Mu=(e,r)=>{if(ss(e)){let t=e.export({format:"jwk"});return delete t.d,delete t.dp,delete t.dq,delete t.p,delete t.q,delete t.qi,t.k?os(t.k):(Je||(Je=new WeakMap),fr(Je,e,t,r))}return de(e)?e.k?oe(e.k):(Je||(Je=new WeakMap),fr(Je,e,e,r,!0)):e},Du=(e,r)=>{if(ss(e)){let t=e.export({format:"jwk"});return t.k?os(t.k):(Ke||(Ke=new WeakMap),fr(Ke,e,t,r))}return de(e)?e.k?oe(e.k):(Ke||(Ke=new WeakMap),fr(Ke,e,e,r,!0)):e},Kn={normalizePublicKey:Mu,normalizePrivateKey:Du};function pr(e,r){return g(this,null,function*(){if(!F(e))throw new TypeError("JWK must be an object");switch(r||(r=e.alg),e.kty){case"oct":if(typeof e.k!="string"||!e.k)throw new TypeError('missing "k" (Key Value) Parameter value');return oe(e.k);case"RSA":if(e.oth!==void 0)throw new z('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return hr(A(h({},e),{alg:r}));default:throw new z('Unsupported "kty" (Key Type) Parameter value')}})}var Ve=e=>e?.[Symbol.toStringTag],Jn=(e,r,t)=>{if(r.use!==void 0&&r.use!=="sig")throw new TypeError("Invalid key for this operation, when present its use must be sig");if(r.key_ops!==void 0&&r.key_ops.includes?.(t)!==!0)throw new TypeError(`Invalid key for this operation, when present its key_ops must include ${t}`);if(r.alg!==void 0&&r.alg!==e)throw new TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},Pu=(e,r,t,n)=>{if(!(r instanceof Uint8Array)){if(n&&de(r)){if(is(r)&&Jn(e,r,t))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!zn(r))throw new TypeError(Wn(e,r,...ze,"Uint8Array",n?"JSON Web Key":null));if(r.type!=="secret")throw new TypeError(`${Ve(r)} instances for symmetric algorithms must be of type "secret"`)}},xu=(e,r,t,n)=>{if(n&&de(r))switch(t){case"sign":if(rs(r)&&Jn(e,r,t))return;throw new TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(ns(r)&&Jn(e,r,t))return;throw new TypeError("JSON Web Key for this operation be a public JWK")}if(!zn(r))throw new TypeError(Wn(e,r,...ze,n?"JSON Web Key":null));if(r.type==="secret")throw new TypeError(`${Ve(r)} instances for asymmetric algorithms must not be of type "secret"`);if(t==="sign"&&r.type==="public")throw new TypeError(`${Ve(r)} instances for asymmetric algorithm signing must be of type "private"`);if(t==="decrypt"&&r.type==="public")throw new TypeError(`${Ve(r)} instances for asymmetric algorithm decryption must be of type "private"`);if(r.algorithm&&t==="verify"&&r.type==="private")throw new TypeError(`${Ve(r)} instances for asymmetric algorithm verifying must be of type "public"`);if(r.algorithm&&t==="encrypt"&&r.type==="private")throw new TypeError(`${Ve(r)} instances for asymmetric algorithm encryption must be of type "public"`)};function as(e,r,t,n){r.startsWith("HS")||r==="dir"||r.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(r)?Pu(r,t,n,e):xu(r,t,n,e)}var Fh=as.bind(void 0,!1),Vn=as.bind(void 0,!0);function ku(e,r,t,n,i){if(i.crit!==void 0&&n?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(s=>typeof s!="string"||s.length===0))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let o;t!==void 0?o=new Map([...Object.entries(t),...r.entries()]):o=r;for(let s of n.crit){if(!o.has(s))throw new z(`Extension Header Parameter "${s}" is not recognized`);if(i[s]===void 0)throw new e(`Extension Header Parameter "${s}" is missing`);if(o.get(s)&&n[s]===void 0)throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(n.crit)}var cs=ku;var Nu=(e,r)=>{if(r!==void 0&&(!Array.isArray(r)||r.some(t=>typeof t!="string")))throw new TypeError(`"${e}" option must be an array of strings`);if(r)return new Set(r)},us=Nu;function Bn(e,r){let t=`SHA-${e.slice(-3)}`;switch(e){case"HS256":case"HS384":case"HS512":return{hash:t,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:t,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:t,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:t,name:"ECDSA",namedCurve:r.namedCurve};case"EdDSA":return{name:r.name};default:throw new z(`alg ${e} is not supported either by JOSE or your javascript runtime`)}}function qn(e,r,t){return g(this,null,function*(){if(t==="sign"&&(r=yield Kn.normalizePrivateKey(r,e)),t==="verify"&&(r=yield Kn.normalizePublicKey(r,e)),cr(r))return Zo(r,e,t),r;if(r instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(Fn(r,...ze));return Fe.subtle.importKey("raw",r,{hash:`SHA-${e.slice(-3)}`,name:"HMAC"},!1,[t])}throw new TypeError(Fn(r,...ze,"Uint8Array","JSON Web Key"))})}var Uu=(e,r,t,n)=>g(void 0,null,function*(){let i=yield qn(e,r,"verify");ts(e,i);let o=Bn(e,i.algorithm);try{return yield Fe.subtle.verify(o,i,t,n)}catch{return!1}}),ls=Uu;function ds(e,r,t){return g(this,null,function*(){if(!F(e))throw new x("Flattened JWS must be an object");if(e.protected===void 0&&e.header===void 0)throw new x('Flattened JWS must have either of the "protected" or "header" members');if(e.protected!==void 0&&typeof e.protected!="string")throw new x("JWS Protected Header incorrect type");if(e.payload===void 0)throw new x("JWS Payload missing");if(typeof e.signature!="string")throw new x("JWS Signature missing or incorrect type");if(e.header!==void 0&&!F(e.header))throw new x("JWS Unprotected Header incorrect type");let n={};if(e.protected)try{let w=oe(e.protected);n=JSON.parse(ye.decode(w))}catch{throw new x("JWS Protected Header is invalid")}if(!es(n,e.header))throw new x("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");let i=h(h({},n),e.header),o=cs(x,new Map([["b64",!0]]),t?.crit,n,i),s=!0;if(o.has("b64")&&(s=n.b64,typeof s!="boolean"))throw new x('The "b64" (base64url-encode payload) Header Parameter must be a boolean');let{alg:c}=i;if(typeof c!="string"||!c)throw new x('JWS "alg" (Algorithm) Header Parameter missing or invalid');let a=t&&us("algorithms",t.algorithms);if(a&&!a.has(c))throw new Go('"alg" (Algorithm) Header Parameter value not allowed');if(s){if(typeof e.payload!="string")throw new x("JWS Payload must be a string")}else if(typeof e.payload!="string"&&!(e.payload instanceof Uint8Array))throw new x("JWS Payload must be a string or an Uint8Array instance");let u=!1;typeof r=="function"?(r=yield r(n,e),u=!0,Vn(c,r,"verify"),de(r)&&(r=yield pr(r,c))):Vn(c,r,"verify");let l=Ho(We.encode(e.protected??""),We.encode("."),typeof e.payload=="string"?We.encode(e.payload):e.payload),d;try{d=oe(e.signature)}catch{throw new x("Failed to base64url decode the signature")}if(!(yield ls(c,r,d,l)))throw new Yo;let y;if(s)try{y=oe(e.payload)}catch{throw new x("Failed to base64url decode the payload")}else typeof e.payload=="string"?y=We.encode(e.payload):y=e.payload;let v={payload:y};return e.protected!==void 0&&(v.protectedHeader=n),e.header!==void 0&&(v.unprotectedHeader=e.header),u?A(h({},v),{key:r}):v})}function hs(e,r,t){return g(this,null,function*(){if(e instanceof Uint8Array&&(e=ye.decode(e)),typeof e!="string")throw new x("Compact JWS must be a string or Uint8Array");let{0:n,1:i,2:o,length:s}=e.split(".");if(s!==3)throw new x("Invalid Compact JWS");let c=yield ds({payload:i,protected:n,signature:o},r,t),a={payload:c.payload,protectedHeader:c.protectedHeader};return typeof r=="function"?A(h({},a),{key:c.key}):a})}var fs=e=>Math.floor(e.getTime()/1e3);var Lu=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,Hn=e=>{let r=Lu.exec(e);if(!r||r[4]&&r[1])throw new TypeError("Invalid time period format");let t=parseFloat(r[2]),n=r[3].toLowerCase(),i;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":i=Math.round(t);break;case"minute":case"minutes":case"min":case"mins":case"m":i=Math.round(t*60);break;case"hour":case"hours":case"hr":case"hrs":case"h":i=Math.round(t*3600);break;case"day":case"days":case"d":i=Math.round(t*86400);break;case"week":case"weeks":case"w":i=Math.round(t*604800);break;default:i=Math.round(t*31557600);break}return r[1]==="-"||r[4]==="ago"?-i:i};var ps=e=>e.toLowerCase().replace(/^application\//,""),ju=(e,r)=>typeof e=="string"?r.includes(e):Array.isArray(e)?r.some(Set.prototype.has.bind(new Set(e))):!1,gs=(e,r,t={})=>{let n;try{n=JSON.parse(ye.decode(r))}catch{}if(!F(n))throw new ur("JWT Claims Set must be a top-level JSON object");let{typ:i}=t;if(i&&(typeof e.typ!="string"||ps(e.typ)!==ps(i)))throw new ee('unexpected "typ" JWT header value',n,"typ","check_failed");let{requiredClaims:o=[],issuer:s,subject:c,audience:a,maxTokenAge:u}=t,l=[...o];u!==void 0&&l.push("iat"),a!==void 0&&l.push("aud"),c!==void 0&&l.push("sub"),s!==void 0&&l.push("iss");for(let v of new Set(l.reverse()))if(!(v in n))throw new ee(`missing required "${v}" claim`,n,v,"missing");if(s&&!(Array.isArray(s)?s:[s]).includes(n.iss))throw new ee('unexpected "iss" claim value',n,"iss","check_failed");if(c&&n.sub!==c)throw new ee('unexpected "sub" claim value',n,"sub","check_failed");if(a&&!ju(n.aud,typeof a=="string"?[a]:a))throw new ee('unexpected "aud" claim value',n,"aud","check_failed");let d;switch(typeof t.clockTolerance){case"string":d=Hn(t.clockTolerance);break;case"number":d=t.clockTolerance;break;case"undefined":d=0;break;default:throw new TypeError("Invalid clockTolerance option type")}let{currentDate:f}=t,y=fs(f||new Date);if((n.iat!==void 0||u)&&typeof n.iat!="number")throw new ee('"iat" claim must be a number',n,"iat","invalid");if(n.nbf!==void 0){if(typeof n.nbf!="number")throw new ee('"nbf" claim must be a number',n,"nbf","invalid");if(n.nbf>y+d)throw new ee('"nbf" claim timestamp check failed',n,"nbf","check_failed")}if(n.exp!==void 0){if(typeof n.exp!="number")throw new ee('"exp" claim must be a number',n,"exp","invalid");if(n.exp<=y-d)throw new Ln('"exp" claim timestamp check failed',n,"exp","check_failed")}if(u){let v=y-n.iat,w=typeof u=="number"?u:Hn(u);if(v-d>w)throw new Ln('"iat" claim timestamp check failed (too far in the past)',n,"iat","check_failed");if(v<0-d)throw new ee('"iat" claim timestamp check failed (it should be in the past)',n,"iat","check_failed")}return n};function Gn(e,r,t){return g(this,null,function*(){let n=yield hs(e,r,t);if(n.protectedHeader.crit?.includes("b64")&&n.protectedHeader.b64===!1)throw new ur("JWTs MUST NOT use unencoded payload");let o={payload:gs(n.protectedHeader,n.payload,t),protectedHeader:n.protectedHeader};return typeof r=="function"?A(h({},o),{key:n.key}):o})}function $u(e){switch(typeof e=="string"&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new z('Unsupported "alg" value for a JSON Web Key Set')}}function Fu(e){return e&&typeof e=="object"&&Array.isArray(e.keys)&&e.keys.every(Wu)}function Wu(e){return F(e)}function ys(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}var Xn=class{constructor(r){if(this._cached=new WeakMap,!Fu(r))throw new jn("JSON Web Key Set malformed");this._jwks=ys(r)}getKey(r,t){return g(this,null,function*(){let{alg:n,kid:i}=h(h({},r),t?.header),o=$u(n),s=this._jwks.keys.filter(u=>{let l=o===u.kty;if(l&&typeof i=="string"&&(l=i===u.kid),l&&typeof u.alg=="string"&&(l=n===u.alg),l&&typeof u.use=="string"&&(l=u.use==="sig"),l&&Array.isArray(u.key_ops)&&(l=u.key_ops.includes("verify")),l&&n==="EdDSA"&&(l=u.crv==="Ed25519"||u.crv==="Ed448"),l)switch(n){case"ES256":l=u.crv==="P-256";break;case"ES256K":l=u.crv==="secp256k1";break;case"ES384":l=u.crv==="P-384";break;case"ES512":l=u.crv==="P-521";break}return l}),{0:c,length:a}=s;if(a===0)throw new lr;if(a!==1){let u=new Rt,{_cached:l}=this;throw u[Symbol.asyncIterator]=function(){return mi(this,null,function*(){for(let d of s)try{yield yield new gi(ms(l,d,n))}catch{}})},u}return ms(this._cached,c,n)})}};function ms(e,r,t){return g(this,null,function*(){let n=e.get(r)||e.set(r,{}).get(r);if(n[t]===void 0){let i=yield pr(A(h({},r),{ext:!0}),t);if(i instanceof Uint8Array||i.type!=="public")throw new jn("JSON Web Key Set members must be public keys");n[t]=i}return n[t]})}function Yn(e){let r=new Xn(e),t=(n,i)=>g(this,null,function*(){return r.getKey(n,i)});return Object.defineProperties(t,{jwks:{value:()=>ys(r._jwks),enumerable:!0,configurable:!1,writable:!1}}),t}var zu=(e,r,t)=>g(void 0,null,function*(){let n,i,o=!1;typeof AbortController=="function"&&(n=new AbortController,i=setTimeout(()=>{o=!0,n.abort()},r));let s=yield fetch(e.href,{signal:n?n.signal:void 0,redirect:"manual",headers:t.headers}).catch(c=>{throw o?new Xo:c});if(i!==void 0&&clearTimeout(i),s.status!==200)throw new $("Expected 200 OK from the JSON Web Key Set HTTP response");try{return yield s.json()}catch{throw new $("Failed to parse the JSON Web Key Set HTTP response as JSON")}}),vs=zu;function Ku(){return typeof WebSocketPair<"u"||typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"||typeof EdgeRuntime<"u"&&EdgeRuntime==="vercel"}var Zn;(typeof navigator>"u"||!navigator.userAgent?.startsWith?.("Mozilla/5.0 "))&&(Zn="jose/v5.9.6");var gr=Symbol();function Ju(e,r){return!(typeof e!="object"||e===null||!("uat"in e)||typeof e.uat!="number"||Date.now()-e.uat>=r||!("jwks"in e)||!F(e.jwks)||!Array.isArray(e.jwks.keys)||!Array.prototype.every.call(e.jwks.keys,F))}var Qn=class{constructor(r,t){if(!(r instanceof URL))throw new TypeError("url must be an instance of URL");this._url=new URL(r.href),this._options={agent:t?.agent,headers:t?.headers},this._timeoutDuration=typeof t?.timeoutDuration=="number"?t?.timeoutDuration:5e3,this._cooldownDuration=typeof t?.cooldownDuration=="number"?t?.cooldownDuration:3e4,this._cacheMaxAge=typeof t?.cacheMaxAge=="number"?t?.cacheMaxAge:6e5,t?.[gr]!==void 0&&(this._cache=t?.[gr],Ju(t?.[gr],this._cacheMaxAge)&&(this._jwksTimestamp=this._cache.uat,this._local=Yn(this._cache.jwks)))}coolingDown(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cooldownDuration:!1}fresh(){return typeof this._jwksTimestamp=="number"?Date.now()<this._jwksTimestamp+this._cacheMaxAge:!1}getKey(r,t){return g(this,null,function*(){(!this._local||!this.fresh())&&(yield this.reload());try{return yield this._local(r,t)}catch(n){if(n instanceof lr&&this.coolingDown()===!1)return yield this.reload(),this._local(r,t);throw n}})}reload(){return g(this,null,function*(){this._pendingFetch&&Ku()&&(this._pendingFetch=void 0);let r=new Headers(this._options.headers);Zn&&!r.has("User-Agent")&&(r.set("User-Agent",Zn),this._options.headers=Object.fromEntries(r.entries())),this._pendingFetch||(this._pendingFetch=vs(this._url,this._timeoutDuration,this._options).then(t=>{this._local=Yn(t),this._cache&&(this._cache.uat=Date.now(),this._cache.jwks=t),this._jwksTimestamp=Date.now(),this._pendingFetch=void 0}).catch(t=>{throw this._pendingFetch=void 0,t})),yield this._pendingFetch})}};function ei(e,r){let t=new Qn(e,r),n=(i,o)=>g(this,null,function*(){return t.getKey(i,o)});return Object.defineProperties(n,{coolingDown:{get:()=>t.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>t.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>t.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>!!t._pendingFetch,enumerable:!0,configurable:!1},jwks:{value:()=>t._local?.jwks(),enumerable:!0,configurable:!1,writable:!1}}),n}var ti;ti=globalThis.crypto;function Vu(e){return ti.getRandomValues(new Uint8Array(e))}function Bu(e){let r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",t="",n=Vu(e);for(let i=0;i<e;i++){let o=n[i]%r.length;t+=r[o]}return t}function qu(e){return Bu(e)}function ri(e){return g(this,null,function*(){let r=yield ti.subtle.digest("SHA-256",new TextEncoder().encode(e));return btoa(String.fromCharCode(...new Uint8Array(r))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")})}function ni(e){return g(this,null,function*(){if(e||(e=43),e<43||e>128)throw`Expected a length between 43 and 128. Received ${e}.`;let r=qu(e),t=yield ri(r);return{code_verifier:r,code_challenge:t}})}var M=(e,r=null)=>{let t=sessionStorage,n=JSON.parse(JSON.stringify(r));e=="config"&&r&&(delete n?.parameters?.id_token,delete n?.parameters?.access_token,delete n?.parameters?.refresh_token,delete n?.parameters?.code,delete n?.parameters?.client_secret,delete n?.parameters?.code_challenge),e=`oauth2_${e}`,n==null||n===""?t.removeItem(e):t.setItem(e,JSON.stringify(n))};var Hu=[],Gu=["acr_values","aud","authorization_details","claims","claims_locales","client_id","code_challenge","code_challenge_method","display","dpop_jkt","exp","iat","id_token_hint","iss","jti","login_hint","max_age","nbf","nonce","prompt","redirect_uri","registration","request","request_uri","resource","response_mode","response_type","scope","state","sub","ui_locales","vtr"],ws=["actor_token","actor_token_type","assertion","audience","authorization_details","client_assertion","client_assertion_type","client_id","client_secret","code","code_verifier","device_code","grant_type","password","redirect_uri","refresh_token","req_cnf","requested_token_type","resource","subject_token","subject_token_type","username","vtr"],Xu=["id_token","client_id","nonce"],Yu=["token_type_hint","access_token","refresh_token"],bs={access_token:"",ace_client_recipientid:void 0,ace_profile:void 0,ace_server_recipientid:void 0,acr_values:"",actor_token:"",actor_token_type:"",assertion:"",aud:"",audience:"",authorization_details:"",claim_token:void 0,claims:"{}",claims_locales:"",client_assertion:"",client_assertion_type:"",client_id:"",client_secret:"",cnf:void 0,code:"",code_challenge:"",code_challenge_method:"",code_verifier:"",device_code:"",display:"",dpop_jkt:"",error:"",error_description:"",error_uri:"",exp:"",expires_in:0,grant_type:"",iat:"",id_token:"",id_token_hint:"",iss:"",issued_token_type:void 0,jti:"",kdcchallenge:void 0,login_hint:"",max_age:0,nbf:"",nfv_token:void 0,nonce:"",nonce1:void 0,nonce2:void 0,password:"",pct:void 0,prompt:[],redirect_uri:"",refresh_token:"",registration:"",req_cnf:"",request:"",request_uri:"",requested_token_type:"",resource:"",response_mode:"",response_type:[],rpt:void 0,rs_cnf:void 0,scope:[],session_state:void 0,sign_info:void 0,state:"",sub:"",subject_token:"",subject_token_type:"",ticket:void 0,token_type:"",token_type_hint:"",ui_locales:"",upgraded:void 0,username:"",vtr:""};var Rs={discovery:Hu,authorization:Gu,token:ws,refresh:ws,revocation:Yu,verify_token:Xu,all:Object.keys(bs)},Es=e=>{let r=bs[e];return Array.isArray(r)?"array":r=="{}"?"json":typeof r},Zu={tag:"",authorization_grant:"",no_pkce:!1,no_state:!1,storage:!1,test:!1,revocation_header:!1,discovery_endpoint:"",well_known_sufix:"",content_type:""},Qu=Object.keys(Zu);var Ts={discovery:{},authorization:{},token:{},refresh:{},verify_token:{},revocation:{}},pp=Object.keys(Ts),el={acr_values_supported:[],authorization_details_types_supported:[],authorization_endpoint:"",authorization_response_iss_parameter_supported:!1,backchannel_authentication_endpoint:"",backchannel_authentication_request_signing_alg_values_supported:[],backchannel_logout_session_supported:!1,backchannel_logout_supported:!1,backchannel_token_delivery_modes_supported:[],backchannel_user_code_parameter_supported:!1,check_session_iframe:"",claim_types_supported:[],claims_locales_supported:[],claims_parameter_supported:!1,claims_supported:[],code_challenge_methods_supported:[],device_authorization_endpoint:"",display_values_supported:[],dpop_signing_alg_values_supported:[],end_session_endpoint:"",frontchannel_logout_supported:!1,grant_types_supported:[],id_token_encryption_alg_values_supported:[],id_token_encryption_enc_values_supported:[],id_token_signing_alg_values_supported:[],introspection_encryption_alg_values_supported:[],introspection_encryption_enc_values_supported:[],introspection_endpoint:"",introspection_endpoint_auth_methods_supported:[],introspection_endpoint_auth_signing_alg_values_supported:[],introspection_signing_alg_values_supported:[],issuer:"",jwks_uri:"",mtls_endpoint_aliases:[],nfv_token_encryption_alg_values_supported:[],nfv_token_encryption_enc_values_supported:[],nfv_token_signing_alg_values_supported:[],op_policy_uri:"",op_tos_uri:"",pushed_authorization_request_endpoint:"",registration_endpoint:"",request_object_encryption_alg_values_supported:[],request_object_encryption_enc_values_supported:[],request_object_signing_alg_values_supported:[],request_parameter_supported:!1,request_uri_parameter_supported:!1,require_pushed_authorization_requests:!1,require_request_uri_registration:!1,require_signed_request_object:!1,response_modes_supported:[],response_types_supported:[],revocation_endpoint:"",revocation_endpoint_auth_methods_supported:[],revocation_endpoint_auth_signing_alg_values_supported:[],scopes_supported:[],service_documentation:"",signed_metadata:"",subject_types_supported:[],tls_client_certificate_bound_access_tokens:!1,token_endpoint:"",token_endpoint_auth_methods_supported:[],token_endpoint_auth_signing_alg_values_supported:[],ui_locales_supported:[],userinfo_encryption_alg_values_supported:[],userinfo_encryption_enc_values_supported:[],userinfo_endpoint:"",userinfo_signing_alg_values_supported:[]},tl=Object.keys(el),rl=h({configuration:{},metadata:{},parameters:{}},Ts),nl=[...Object.keys(rl)],il=e=>e!=null&&e.constructor&&e.constructor.name==="Object";var si=e=>typeof e=="string"||e==null||e==null,Et=(e,r)=>{if(si(e))return e||r;throw new Error(`${e}" is not a string or nullish.`,{cause:"notStrNull"})},Ss=(e=1)=>{let r=new BigUint64Array(e);return window.crypto.getRandomValues(r),r.reduce((n,i)=>`${n}${i.toString(16)}`,"")},ai=e=>e?Object.fromEntries(Object.entries(e).map(([n,i])=>[n.toLowerCase(),i])):void 0,ol=e=>{try{return!!e&&typeof e=="string"&&!!JSON.parse(e)}catch{return!1}},Ce=(e={},r="")=>{if(!e||Object.entries(e).length==0)return{};let t=ai(e),i=Object.keys(t).filter(o=>!Rs.all.includes(o));i.length&&console.error(`WARNING: Unexpected parameters: ${i.join(", ")}.`,{message:"Custom parameters must be included inside the enpoint configuration options.",cause:`oauth2 ${r}`});for(let o in t){let s=o,c=t[s],a=Es(s);if(c==null){delete t[s];continue}if(a=="array"&&typeof c=="string"&&(t[s]=[c]),a=="array"&&typeof c=="number"&&(t[s]=[c]),a=="array"&&typeof c=="bigint"&&(t[s]=[c]),a=="array"&&!Array.isArray(t[s]))throw new Error(`The parameter "${s}" must be an array`,{cause:`oauth2 ${r}`});if(a=="json"&&!ol(c))throw new Error(`The parameter "${s}" must be of type JSON`,{cause:`oauth2 ${r}`});if(a!="array"&&a!="json"&&a!="undefined"&&a!=typeof c)throw new Error(`The parameter "${s}" must be of type ${a}`,{cause:`oauth2 ${r}`})}return t},ci=(e={})=>{if(!e||Object.entries(e).length==0)return{};let r={};e=ai(e);for(let s in e){let c=s,a=e[c];if(!il(a))throw new Error(`Initial configuration section "${s}" is not an object.`,{cause:"oauth2 oauth2ConfigFactory"});if(!nl.includes(s))throw new Error(`Unexpected initial configuration section "${s}".`,{cause:"oauth2 oauth2ConfigFactory"});r[c]=ai(a)}r.configuration??={};let n=Object.keys(r.configuration).filter(s=>!Qu.includes(s));if(n.length)throw new Error(`Unexpected configuration options: ${n.join(", ")}`,{cause:"oauth2 oauth2ConfigFactory"});r.parameters=Ce(r.parameters,"oauth2ConfigFactory"),r.parameters.redirect_uri??=window.location.href.split("#")[0].split("?")[0],r.metadata??={};let o=Object.keys(r.metadata).filter(s=>!tl.includes(s));return o.length&&console.error(`WARNING: Unexpected metadata fields ${o.join(", ")}.`,{cause:"oauth2 oauth2ConfigFactory"}),r},sl=e=>window.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"]).then(r=>g(void 0,null,function*(){let t=window.crypto.getRandomValues(new Uint8Array(12)),n=yield window.crypto.subtle.encrypt({name:"AES-GCM",iv:t},r,new TextEncoder().encode(e));return[r,t,n]})),al=(e,r,t)=>window.crypto.subtle.decrypt({name:"AES-GCM",iv:r},e,t).then(n=>new TextDecoder("UTF-8").decode(n)),ii=e=>{let r=new Uint8Array(e);return Array.from(r).map(n=>n.toString(16).padStart(2,"0")).join("")},oi=e=>{let r=e.match(/[\da-f]{2}/gi);return r?new Uint8Array(r.map(function(n){return parseInt(n,16)})).buffer:new ArrayBuffer(0)},cl=e=>{let r=document.cookie.indexOf(`${e}=`);if(r<0)return"";r+=e.length+1;let t=document.cookie.indexOf(";",r);return document.cookie.substring(r,t>=0?t:void 0)},Cs=(e,r)=>g(void 0,null,function*(){let t=cl("ngx_oauth2_oidc"),n=sessionStorage.getItem("oauth2_unload");if(sessionStorage.removeItem("oauth2_unload"),document.cookie="ngx_oauth2_oidc=; max-age=0",!Object.entries(e).length&&t.length==88&&n?.length){let i=t.substring(0,64),o=t.substring(64),s=oi(i),c=oi(o),a=oi(n??""),u=yield window.crypto.subtle.importKey("raw",s,"AES-GCM",!1,["decrypt"]),l=yield al(u,c,a),d=JSON.parse(l),f=d.config??e??{},y=d.idToken??r??{};Object.assign(e,ci(f)),Object.assign(r,y);let v=e.configuration?.storage;M("config",v?e:null),M("idToken",v?r:null),M("test")}}),As=(e,r)=>{let t=r.configuration?.storage,n={};for(let i in e){let o=i,s=e[i],c=Es(o),a=c=="array"?s.split(" "):c=="number"||c=="boolean"?JSON.parse(s):s;n[i]=a}return n.expires_in&&(n.expires_in=new Date().getTime()+n.expires_in*1e3),r.parameters=h(h({},r.parameters),n),M("config",t?r:null),n},ul=(e,r)=>g(void 0,null,function*(){yield Cs(e,r);let t=decodeURIComponent(window.location.search),n=decodeURIComponent(window.location.hash),o=(n.length?n:t).substring(1),c=(o.length?o.split("&"):[]).map(d=>d.split("=")),a=Object.fromEntries(c),u=e?.parameters?.state;if(window.history.replaceState({},"",window.location.pathname),!c.length)return Promise.resolve({});if(u&&u!==a.state)return Promise.reject(new Error("Ilegal state received.",{cause:"oauth2 interceptor"}));let l=As(a,e);return l.error?Promise.reject(new Error(`${JSON.stringify(l,null,4)}`,{cause:"oauth2 interceptor"})):Promise.resolve(l)}),Is={value:function(e){let r=Object.entries(this);return Object.fromEntries(r.filter(t=>e(t[0],t[1],this)))},enumerable:!1},Tt=(e,r)=>{let t=r.parameters??{},n=r[e]??{},i=ll(e,t),o=h(h({},i),n);return Object.defineProperty(o,"filter",Is),o.filter((c,a)=>a!=null)},ll=(e,r)=>{let t=Rs[e];return Object.defineProperty(r,"filter",Is),r.filter(i=>t.includes(i))},dl=(i,...o)=>g(void 0,[i,...o],function*(e,r={},t,n){let s=e.configuration?.test,c=e.configuration?.storage,a=t??e.metadata?.issuer??"",u=n??e.metadata?.jwks_uri??"",l=R=>r[R]??d[R]??"",d=Ce(h(h({},Tt("verify_token",e)),r)),f=l("id_token"),y=l("nonce");if(M("test",c&&s?{}:null),!f)return;if(!u)throw new Error("Value \u200B\u200Bfor 'jwks_uri' metadata is missing.",{cause:"oauth2 verify_token"});if(!a)throw new Error("Value \u200B\u200Bfor 'issuer' metadata is missing.",{cause:"oauth2 verify_token"});let v=d.audience??d.client_id??"";if(!v)throw new Error("The values \u200B\u200Bfor the 'client_id' parameter, 'client_id' option, and 'audience' option are missing.",{cause:"oauth2 verify_token"});Object.assign(d,{nonce:y,issuer:a,audience:v,jwks_uri:u});let w=ei(new URL(u)),p=h({},d);delete p.id_token,delete p.jwks_uri,delete p.client_id;let C={};try{let{payload:R}=yield Gn(f,w,p);C=R}catch(R){let _=new Error(R.message,{cause:"oauth2 verify_token"});throw _.name=R.name,_}if(C.nonce&&C.nonce!=y){let R=Error('unexpected "nonce" claim value',{cause:"oauth2 verify_token"});throw R.name="JWTClaimValidationFailed",R}return s&&M("test",c?d:null),Promise.resolve(C)}),hl=(e,r,t,n)=>{let i=e;if(r){let o=i.match(/^.+:\/\//),s=o?o[0].toLowerCase():"",c=`${r}://`.toLowerCase();if(s&&s!=c&&(i=i.replace(s,c)),!s){let a=()=>i.startsWith(":")||i.startsWith("/");for(;a();)i=i.slice(1);i=`${c}${i}`}}if(t){let o=()=>i.endsWith(":")||i.endsWith("/");for(;o();)i=i.slice(0,-1);i=`${i}/${t}`}if(n){let o=()=>i.endsWith("/");for(;o();)i=i.slice(0,-1)}return i},fl=(e,r)=>{let t=r.configuration?.storage;r.metadata=h(h({},r.metadata),e);let n=r.parameters?.id_token;return M("config",t?r:null),e},pl=(e,r,t=!0)=>br(e.pipe(E(n=>t?As(n,r):fl(n,r)),se(n=>{throw n}))),Os=(e,r)=>g(void 0,null,function*(){let t=JSON.stringify({config:e,idToken:r}),[n,i,o]=yield sl(t),s=yield window.crypto.subtle.exportKey("raw",n),c=ii(s),a=ii(o),u=ii(i);document.cookie=`ngx_oauth2_oidc=${c}${u}; secure; samesite=strict`,sessionStorage.setItem("oauth2_unload",a)}),mr=(s,c,a,u,...l)=>g(void 0,[s,c,a,u,...l],function*(e,r,t,n,i={},o){let d=n.configuration?.test,f=n.configuration?.storage,y=n.configuration?.content_type??"application/x-www-form-urlencoded",v=n.configuration?.revocation_header,w=o==="revocation"&&v?{Authorization:`Bearer ${i.token}`}:void 0,p=h({Accept:"application/json","Content-Type":y},w),C=new G(p);if(M("test",f&&d?{}:null),!r)throw new Error("missing endpoint.",{cause:`oauth2 ${o}`});v&&delete i.token;let R={};for(let j in i){let k=i[j];Array.isArray(k)&&(k=k.join(" ")),(k||k===!1)&&(R[j]=k.toString())}let _=new Z({fromObject:R});if(d){let j=Object.keys(R).length?R:{"@URL":r};M("test",f?j:null)}if(e=="HREF"){Os(n,{});let j=new _e(e,r,null,{params:_});return location.href=j.urlWithParams,{}}let L=e=="POST"?t.post(r,"null",{headers:C,params:_,observe:"body"}):t.get(r,{headers:C,params:_,observe:"body"});return pl(L,n,o!=="discovery")}),gl=(i,o,...s)=>g(void 0,[i,o,...s],function*(e,r,t={},n){let c=r.configuration?.test,a=r.configuration?.storage,u=r.configuration?.discovery_endpoint,l=r.configuration?.well_known_sufix??".well-known/openid-configuration",d=r.metadata?.issuer??"";n??=u??hl(d,"https",l);let f=Ce(h(h({},Tt("discovery",r)),t));if(M("test",a&&c?{}:null),!n)throw new Error("The value of the 'url' option or the 'discovery_endpoint' configuration field or the 'issuer' metadata field is missing.",{cause:"oauth2 fetchDiscoveryDoc"});return window.HTMLFencedFrameElement,mr("GET",n,e,r,f,"discovery")}),ml=(o,s,...c)=>g(void 0,[o,s,...c],function*(e,r,t={},n="",i){let a=r.configuration?.test,u=r.configuration?.storage,l=!!r.configuration?.no_pkce,d=!!r.configuration?.no_state,f=r.configuration?.authorization_grant??"code",y=["code","implicit","hybrid"].includes(f),v=r.metadata?.authorization_endpoint;i??=v??"";let w=te=>(p[te]??[]).map(yr=>yr.toLowerCase()),p=Ce(h(A(h({},Tt("authorization",r)),{state:null,nonce:null}),t)),C=w("scope"),R=w("response_type"),_=p.code_verifier??r.token?.code_verifier??r.parameters?.code_verifier,L=p.code_challenge_method,k={code_challenge:p.code_challenge,code_challenge_method:L,code_verifier:_},Be,li,di;if(M("test",u&&a?{}:null),!i)throw new Error("The value of the 'authorization_endpoint' metadata field or the 'url' option is missing.",{cause:"oauth2 authorization"});if(C.length||C.push("openid","email","profile"),y||R.length>1){let te=R.indexOf("none");te>=0&&R.splice(te,1)}if(f=="code"&&R.splice(0,10,"code"),f=="implicit"){let te=["openid","email","profile"],yr=C.some(vr=>te.includes(vr)),Ls=C.some(vr=>!te.includes(vr)),fi=R.indexOf("code"),pi=R.indexOf("token"),js=R.indexOf("id_token");fi>=0&&R.splice(fi,1),yr&&js<0&&pi<0&&R.push("id_token"),Ls&&pi<0&&R.push("token")}for(let te in k)delete k[te];l||f!="code"?(delete p.code_challenge,delete p.code_challenge_method,delete p.code_verifier):Object.assign(k,yield yl(p,_)),d&&u?delete p.state:(Be=Et(p.state,Ss(2)),li={state:Be+n});let Us=R.indexOf("id_token");f=="code"||f=="implicit"&&Us>=0?di={nonce:Et(p.nonce,Ss(2))}:delete p.nonce;let Ct=h(h(h({},k),li),di),hi=A(h(h({},p),Ct),{scope:C,response_type:R});return delete hi.code_verifier,delete Ct.code_challenge,delete Ct.code_challenge_method,r.parameters=h(h({},r.parameters),Ct),M("config",u?r:null),mr("HREF",i,e,r,hi,"authorization")}),yl=(e,r)=>g(void 0,null,function*(){let t=e.code_challenge_method;if(!si(t))throw new Error(`The code challenge method "${t}",
            must be a string or nullish.`,{cause:"oauth2 authorization"});if(!si(r))throw new Error(`The code verifier "${r}",
                must be a string or nullish.`,{cause:"oauth2 authorization"});if(t=Et(t,"S256"),t=t.toLowerCase()=="plain"?"plain":t,t=t.toLowerCase()=="s256"?"S256":t,t!="plain"&&t!="S256")throw new Error(`unexpected code challenge method "${t}".`,{cause:"oauth2 authorization"});r=Et(r,(yield ni(128)).code_verifier);let n=e.code_challenge;return n=Et(n,yield ri(r)),{code_challenge_method:t,code_verifier:r,code_challenge:n}}),_s=(i,o,...s)=>g(void 0,[i,o,...s],function*(e,r,t={},n){let c=r.configuration?.test,a=r.configuration?.storage,u=!!r.configuration?.no_pkce,l=r?.metadata?.token_endpoint;n??=l??"";let d=Ce(h(h({},Tt("token",r)),t)),f=d.grant_type;if(M("test",a&&c?{}:null),!n)throw new Error("Missing Value \u200B\u200Bfor metadata field 'token_endpoint' or option 'url'.",{cause:`oauth2 token ${f}`});if(!f)throw new Error("Missing value \u200B\u200Bfor configuration parameter 'grant_type'.",{cause:"oauth2 token"});if(f=="authorization_code"&&(delete d.assertion,delete d.device_code,delete d.refresh_token,!u)){delete r.token?.code_verifier,delete r.parameters?.code_verifier;let y=r.parameters?.id_token;M("config",a?r:null)}return f=="refresh_token"&&(delete d.assertion,delete d.code,delete d.code_verifier,delete d.device_code),u&&delete d.code_verifier,mr("POST",n,e,r,d,"token")}),vl=(i,o,...s)=>g(void 0,[i,o,...s],function*(e,r,t={},n){let c=r.configuration?.test,a=r.configuration?.storage,u=r.metadata?.revocation_endpoint;n??=u??"";let l=Ce(h(h({},Tt("revocation",r)),t)),d=l.token_type_hint,f=l.access_token,y=l.refresh_token,v=l.token;if(M("test",a&&c?{}:null),!n)throw new Error("Missing value for option 'url' or metadata field 'revocation_endpoint'.",{cause:"oauth2 revocation"});if(delete l.access_token,delete l.refresh_token,v=l.token??(d?d=="refresh_token"?y:f:void 0)??(d?void 0:f??y),d&&!v)throw new Error("The token indicated by the token_type_hint is missing.",{cause:"oauth2 revocation"});if(!v)throw new Error("Missing value for parameters 'token' or 'access_token' or 'refresh_token'.",{cause:"oauth2 revocation"});return mr("POST",n,e,r,v?A(h({},l),{token:v}):l,"revocation")}),wl=e=>{let r=e instanceof ne,t=r&&!!e.error.error,n=e instanceof $;return t?[[e.error.error,e.error.error_description]]:r?[[e.statusText,e.message]]:n?[[e.name,e.message]]:e.cause?[[e.cause,e.message]]:e.name?[[e.name,e.message]]:typeof e=="object"?Object.entries(e??{}):[[(e??"").toString(),""]]},Sl=(c,a,...u)=>g(void 0,[c,a,...u],function*(e,r,t={},n,i="GET",o={},s={}){let l=r.configuration?.test,d=r.configuration?.content_type??"application/x-www-form-urlencoded",{access_token:f}=t,y=f?{Authorization:`Bearer ${f}`}:void 0;o=h({},o);for(let _ in o)o[_]=JSON.stringify(o[_]).replace(/^"|"$/g,"");let v=h(h({Accept:"application/json","Content-Type":d},y),o),w=new G(v);if(M("test",l?{}:null),!n)throw new Error("missing endpoint.",{cause:"oauth2 apiRequest"});let p={};for(let _ in t){let L=t[_];Array.isArray(L)&&(L=L.join(" ")),(L||L===!1)&&(p[_]=L.toString())}let C=new Z({fromObject:p});if(l){let _=Object.keys(p).length?p:{"@URL":n};M("test",_)}let R=i=="POST"?e.post(n,s,{headers:w,params:C,observe:"body"}):e.get(n,{headers:w,params:C,observe:"body"});return br(R.pipe(se(_=>{throw _})))}),Ms=new D("OAuth2 Config"),Ds=(()=>{class e{get config(){return this._config}get idToken(){return this._idToken}get isIdTokenIntercepted(){return this._isIdTokenIntercepted}get isAccessTokenIntercepted(){return this._isAccessTokenIntercepted}get isCodeIntercepted(){return this._isCodeIntercepted}constructor(t){this.oauth2Config=t,this.http=m(Kr),this._config={},this._idToken={},this._isIdTokenIntercepted=!1,this._isAccessTokenIntercepted=!1,this._isCodeIntercepted=!1,this.setConfig=s=>{let c=ci(s),a=c.configuration?.storage;if(this._config=c,this._idToken={},!!a)return M("config",a?c:null),M("idToken"),M("test"),this.config},this.setParameters=s=>{let c=h({},s),a=h({},this.config.parameters),u=this.config.configuration?.storage;for(let l in s){let d=l,f=s[d];f==null&&delete a[d]}s=Ce(c,"setParameters"),this._config.parameters=h(h({},a),s),M("config",u?this.config:null)},this.discovery=(s={},c)=>gl(this.http,this._config,s,c),this.authorization=(...u)=>g(this,[...u],function*(s={},c,a){return ml(this.http,this._config,s,c,a)}),this.token=(...a)=>g(this,[...a],function*(s={},c){return _s(this.http,this._config,h({grant_type:"authorization_code"},s),c)}),this.apiRequest=(...d)=>g(this,[...d],function*(s={},c,a="GET",u={},l={}){return Sl(this.http,this.config,s,c,a,u,l)}),this.refresh=(...a)=>g(this,[...a],function*(s={},c){return _s(this.http,this._config,h({grant_type:"refresh_token",redirect_uri:null},s),c)}),this.revocation=(...a)=>g(this,[...a],function*(s={},c){return vl(this.http,this._config,s,c)}),this.verifyToken=(...u)=>g(this,[...u],function*(s={},c,a){let l=this.config.configuration?.storage;this._idToken={},M("idToken"),yield dl(this.config,s,c,a).then(d=>{this._idToken=d??{},M("idToken",l?this.idToken:null)})}),this.interceptor=()=>g(this,null,function*(){let s=ul(this._config,this._idToken);return yield s.then(c=>{this._isIdTokenIntercepted=!!c.id_token,this._isAccessTokenIntercepted=!!c.access_token,this._isCodeIntercepted=!!c.code}),s}),this.saveState=()=>g(this,null,function*(){return yield Os(this._config,this._idToken)}),this.recoverState=()=>g(this,null,function*(){yield Cs(this._config,this._idToken)}),this.errorArray=s=>wl(s);let i=ci(t??{}),o=i.configuration?.storage;this._config=i,M("config",o?i:null),M("idToken"),M("test")}static{this.\u0275fac=function(n){return new(n||e)(I(Ms))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Ps=(e=null)=>ae([Ds,{provide:Ms,useValue:e}]),xs=(e="")=>()=>g(void 0,null,function*(){let r=m(Ds),t=m(ar);return yield r.recoverState(),r.idToken.sub?!0:t.createUrlTree([e])});var ks=[{path:"login",loadComponent:()=>import("./chunk-QTSYN6MO.js").then(e=>e.LoginComponent)},{path:"home",loadComponent:()=>import("./chunk-QTSYN6MO.js").then(e=>e.HomeComponent),canActivate:[xs()]},{path:"privacy-policy",loadComponent:()=>import("./chunk-QTSYN6MO.js").then(e=>e.PrivacyPolicyComponent)},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"**",redirectTo:"/login",pathMatch:"full"}];var _l="@",bl=(()=>{class e{constructor(t,n,i,o,s){this.doc=t,this.delegate=n,this.zone=i,this.animationType=o,this.moduleImpl=s,this._rendererFactoryPromise=null,this.scheduler=m(Ni,{optional:!0}),this.loadingSchedulerFn=m(Rl,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-QCVVFESZ.js").then(i=>i),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(i=>{throw new P(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(t,n){let i=this.delegate.createRenderer(t,n);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let o=new ui(i);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(s=>{let c=s.createRenderer(t,n);o.use(c),this.scheduler?.notify(10)}).catch(s=>{o.use(i)}),o}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Pr()}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),ui=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let t of this.replay)t(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,t){return this.delegate.createElement(r,t)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,t){this.delegate.appendChild(r,t)}insertBefore(r,t,n,i){this.delegate.insertBefore(r,t,n,i)}removeChild(r,t,n){this.delegate.removeChild(r,t,n)}selectRootElement(r,t){return this.delegate.selectRootElement(r,t)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,t,n,i){this.delegate.setAttribute(r,t,n,i)}removeAttribute(r,t,n){this.delegate.removeAttribute(r,t,n)}addClass(r,t){this.delegate.addClass(r,t)}removeClass(r,t){this.delegate.removeClass(r,t)}setStyle(r,t,n,i){this.delegate.setStyle(r,t,n,i)}removeStyle(r,t,n){this.delegate.removeStyle(r,t,n)}setProperty(r,t,n){this.shouldReplay(t)&&this.replay.push(i=>i.setProperty(r,t,n)),this.delegate.setProperty(r,t,n)}setValue(r,t){this.delegate.setValue(r,t)}listen(r,t,n){return this.shouldReplay(t)&&this.replay.push(i=>i.listen(r,t,n)),this.delegate.listen(r,t,n)}shouldReplay(r){return this.replay!==null&&r.startsWith(_l)}},Rl=new D("");function Ns(e="animations"){return xr("NgAsyncAnimations"),ae([{provide:Ot,useFactory:(r,t,n)=>new bl(r,t,n,e),deps:[W,Kt,re]},{provide:ki,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Mp={providers:[no(),Ps(),Fi({eventCoalescing:!0}),qo(ks),Ns()]};export{ne as a,yd as b,ar as c,Ds as d,ah as e,ks as f,Mp as g};
